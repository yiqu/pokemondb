"use strict";(self.webpackChunkpokemondb=self.webpackChunkpokemondb||[]).push([[677],{2677:(We,j,y)=>{y.r(j),y.d(j,{MainModule:()=>He});var L=y(493),h=y(9653),b=y(6895),gt=y(9814),ht=y(7061),n=y(4650);let mt=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[b.ez,gt.o9,ht.p]}),t})();var yt=y(851),St=y(6580),R=y(7337);let Pt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5"]],template:function(o,i){1&o&&(n.TgZ(0,"div",0),n._UZ(1,"router-outlet"),n.qZA())},dependencies:[R.lC]}),t})();const J="allPokemonShells";var k=(()=>{return(t=k||(k={})).Next="NEXT",t.Prev="PREV",k;var t})(),vt=y(529),f=(()=>{return(t=f||(f={}))[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",f;var t})();function v(t){return function(o,i){const s={ids:[...i.ids],entities:{...i.entities}},a=t(o,s);return a===f.Both?Object.assign({},i,s):a===f.EntitiesOnly?{...i,entities:s.entities}:i}}function C(t,e){const o=e(t);return(0,n.X6Q)()&&void 0===o&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),o}function Q(t){function e(g,c){const r=C(g,t);return r in c.entities?f.None:(c.ids.push(r),c.entities[r]=g,f.Both)}function o(g,c){let r=!1;for(const l of g)r=e(l,c)!==f.None||r;return r?f.Both:f.None}function s(g,c){const r=C(g,t);return r in c.entities?(c.entities[r]=g,f.EntitiesOnly):(c.ids.push(r),c.entities[r]=g,f.Both)}function S(g,c){const l=(g instanceof Array?g:c.ids.filter(u=>g(c.entities[u]))).filter(u=>u in c.entities).map(u=>delete c.entities[u]).length>0;return l&&(c.ids=c.ids.filter(u=>u in c.entities)),l?f.Both:f.None}function M(g,c){return O([g],c)}function O(g,c){const r={};return(g=g.filter(u=>u.id in c.entities)).length>0?g.filter(p=>function T(g,c,r){const u=Object.assign({},r.entities[c.id],c.changes),p=C(u,t),m=p!==c.id;return m&&(g[c.id]=p,delete r.entities[c.id]),r.entities[p]=u,m}(r,p,c)).length>0?(c.ids=c.ids.map(p=>r[p]||p),f.Both):f.EntitiesOnly:f.None}function W(g,c){const r=[],l=[];for(const m of g){const A=C(m,t);A in c.entities?l.push({id:A,changes:m}):r.push(m)}const u=O(l,c),p=o(r,c);switch(!0){case p===f.None&&u===f.None:return f.None;case p===f.Both||u===f.Both:return f.Both;default:return f.EntitiesOnly}}return{removeAll:function P(g){return Object.assign({},g,{ids:[],entities:{}})},addOne:v(e),addMany:v(o),setAll:v(function i(g,c){return c.ids=[],c.entities={},o(g,c),f.Both}),setOne:v(s),setMany:v(function a(g,c){const r=g.map(l=>s(l,c));switch(!0){case r.some(l=>l===f.Both):return f.Both;case r.some(l=>l===f.EntitiesOnly):return f.EntitiesOnly;default:return f.None}}),updateOne:v(M),updateMany:v(O),upsertOne:v(function E(g,c){return W([g],c)}),upsertMany:v(W),removeOne:v(function d(g,c){return S([g],c)}),removeMany:v(S),map:v(function x(g,c){return O(c.ids.reduce((u,p)=>{const m=g(c.entities[p]);return m!==c.entities[p]&&u.push({id:p,changes:m}),u},[]).filter(({id:u})=>u in c.entities),c)}),mapOne:v(function Z({map:g,id:c},r){const l=r.entities[c];return l?M({id:c,changes:g(l)},r):f.None})}}function Et(t,e){const{removeOne:o,removeMany:i,removeAll:s}=Q(t);function a(r,l){return d([r],l)}function d(r,l){const u=r.filter(p=>!(C(p,t)in l.entities));return 0===u.length?f.None:(c(u,l),f.Both)}function P(r,l){const u=C(r,t);return u in l.entities?(l.ids=l.ids.filter(p=>p!==u),c([r],l),f.Both):a(r,l)}function M(r,l){return x([r],l)}function x(r,l){const u=[],p=r.filter(m=>function O(r,l,u){if(!(l.id in u.entities))return!1;const m=Object.assign({},u.entities[l.id],l.changes),A=C(m,t);return delete u.entities[l.id],r.push(m),A!==l.id}(u,m,l)).length>0;if(0===u.length)return f.None;{const m=l.ids,A=[];return l.ids=l.ids.filter((w,N)=>w in l.entities||(A.push(N),!1)),c(u,l),!p&&A.every(w=>l.ids[w]===m[w])?f.EntitiesOnly:f.Both}}function g(r,l){const u=[],p=[];for(const w of r){const N=C(w,t);N in l.entities?p.push({id:N,changes:w}):u.push(w)}const m=x(p,l),A=d(u,l);switch(!0){case A===f.None&&m===f.None:return f.None;case A===f.Both||m===f.Both:return f.Both;default:return f.EntitiesOnly}}function c(r,l){r.sort(e);const u=[];let p=0,m=0;for(;p<r.length&&m<l.ids.length;){const A=r[p],w=C(A,t),N=l.ids[m];e(A,l.entities[N])<=0?(u.push(w),p++):(u.push(N),m++)}l.ids=u.concat(p<r.length?r.slice(p).map(t):l.ids.slice(m)),r.forEach((A,w)=>{l.entities[t(A)]=A})}return{removeOne:o,removeMany:i,removeAll:s,addOne:v(a),updateOne:v(M),upsertOne:v(function W(r,l){return g([r],l)}),setAll:v(function S(r,l){return l.entities={},l.ids=[],d(r,l),f.Both}),setOne:v(P),setMany:v(function T(r,l){const u=r.map(p=>P(p,l));switch(!0){case u.some(p=>p===f.Both):return f.Both;case u.some(p=>p===f.EntitiesOnly):return f.EntitiesOnly;default:return f.None}}),addMany:v(d),updateMany:v(x),upsertMany:v(g),map:v(function Z(r,l){return x(l.ids.reduce((p,m)=>{const A=r(l.entities[m]);return A!==l.entities[m]&&p.push({id:m,changes:A}),p},[]),l)}),mapOne:v(function E({map:r,id:l},u){const p=u.entities[l];return p?M({id:l,changes:r(p)},u):f.None})}}function X(t={}){const{selectId:e,sortComparer:o}={selectId:t.selectId??(d=>d.id),sortComparer:t.sortComparer??!1},i=function Mt(){return{getInitialState:function t(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),s=function Ot(){return{getSelectors:function t(e){const o=d=>d.ids,i=d=>d.entities,s=(0,h.P1)(o,i,(d,S)=>d.map(P=>S[P])),a=(0,h.P1)(o,d=>d.length);return e?{selectIds:(0,h.P1)(e,o),selectEntities:(0,h.P1)(e,i),selectAll:(0,h.P1)(e,s),selectTotal:(0,h.P1)(e,a)}:{selectIds:o,selectEntities:i,selectAll:s,selectTotal:a}}}}();return{selectId:e,sortComparer:o,...i,...s,...o?Et(e,o):Q(e)}}const B=(0,h.PH)("[Pokemon All/API] Get all pokemon start",(0,h.Ky)()),q=(0,h.PH)("[Pokemon All/API] Get all pokemon successful",(0,h.Ky)()),kt=(0,h.PH)("[Pokemon All/API] Get all pokemon failure",(0,h.Ky)()),D=X({selectId:function It(t){return t.name}}),Nt=D.getInitialState({apiWorking:!1,firstTimeLoading:!0,errMsg:void 0,error:!1,lastFetchedDate:void 0,pagination:{limit:20,firstOffset:0}}),V=(0,h.Lq)(Nt,(0,h.on)(B,(t,{page:e})=>({...t,apiWorking:!0,pagination:{...t.pagination,pageRequested:e}})),(0,h.on)(q,(t,{payload:e,fetchedDate:o})=>{const i=e.results,s=((t,e)=>{const o=e.count,i=e.next,s=e.previous,a=Math.floor(o/20);let d=0,S=t.nextOffset??0;i?(S=+(new URL(i).searchParams.get("offset")??0),d=(S-(t.limit??20))/(t.limit??20)):d=a;let P=t.prevOffset??0;return s&&(P=+(new URL(s).searchParams.get("offset")??0)),{pageRequested:t.pageRequested,limit:t.limit,currentPage:d,nextOffset:S,prevOffset:P,firstOffset:0,lastOffset:20*a-20,pages:a,totalCount:o,nextPageUrl:i,previousPageUrl:s}})(t.pagination,e);return D.addMany(i,{...t,apiWorking:!1,firstTimeLoading:!1,error:!1,errMsg:void 0,pagination:s,lastFetchedDate:o})}),(0,h.on)(kt,(t,{errMsg:e})=>({...t,apiWorking:!1,errMsg:e,error:!0}))),I=(0,h.ZF)(J),bt=((0,h.P1)(I,D.getSelectors().selectIds),(0,h.P1)(I,D.getSelectors().selectEntities),(0,h.P1)(I,D.getSelectors().selectAll)),Dt=((0,h.P1)(I,D.getSelectors().selectTotal),(0,h.P1)(I,t=>t.firstTimeLoading),(0,h.P1)(I,t=>t.apiWorking)),tt=(0,h.P1)(I,t=>t.pagination),et="allPokemonActionBar",nt=(0,h.PH)("[Pokemon All Actions/UI] Set action bar items",(0,h.Ky)());(0,h.PH)("[Pokemon All Actions/UI] Edit action property",(0,h.Ky)());const F=X({selectId:function Zt(t){return t.id}}),_t=F.getInitialState({apiWorking:!1}),ot=(0,h.Lq)(_t,(0,h.on)(nt,(t,{actions:e})=>F.setAll(e,{...t}))),H=(0,h.ZF)(et),Bt=((0,h.P1)(H,F.getSelectors().selectIds),(0,h.P1)(H,F.getSelectors().selectEntities),(0,h.P1)(H,F.getSelectors().selectAll));(0,h.P1)(H,F.getSelectors().selectTotal);var Ht=y(4691);let Y=(()=>{class t{constructor(o,i){this.httpService=o,this.store=i,this.pagination$=this.store.select(tt),this.actionBarActions$=this.store.select(Bt),this.pokemonList$=this.store.select(bt),this.pokemonListLoading$=this.store.select(Dt),this.allPaginationData$=this.store.select(tt)}getPokemonShells(o,i){let s=new vt.LE,a="https://pokeapi.co/api/v2/pokemon";return i?a=i:(s=s.set("offset",20*(o??0)),s=s.set("limit",20)),this.httpService.get(a,s)}fetchPokemonShells(o,i){this.store.dispatch(B({page:o,scrollPosition:i}))}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(Ht.O),n.LFG(h.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var U=y(1576),it=y(4859),Wt=y(7392);function Rt(t,e){if(1&t){const o=n.EpF();n.ynx(0),n.TgZ(1,"button",3),n.NdJ("click",function(){const a=n.CHM(o).$implicit,d=n.oxw();return n.KtG(d.onActionClick(a))}),n.TgZ(2,"mat-icon"),n._uU(3),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.qZA()(),n.BQk()}if(2&t){const o=e.$implicit;n.xp6(3),n.hij("",o.icon," "),n.xp6(2),n.Oqu(o.display)}}const Yt=["*"];let Gt=(()=>{class t{constructor(){this.actions=[]}ngOnInit(){}onActionClick(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["shared-action-bar"]],inputs:{actions:"actions"},ngContentSelectors:Yt,decls:5,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,""],[1,""],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"]],template:function(o,i){1&o&&(n.F$t(),n.TgZ(0,"section",0)(1,"div",1),n.YNc(2,Rt,6,2,"ng-container",2),n.qZA(),n.TgZ(3,"div"),n.Hsn(4),n.qZA()()),2&o&&(n.xp6(2),n.Q6J("ngForOf",i.actions))},dependencies:[b.sg,it.lW,Wt.Hw,U.xw,U.Wh],styles:["button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();var lt=y(6338),zt=y(9646),$t=y(4968),jt=y(5577),G=y(4004),st=y(8505),rt=y(9300),Jt=y(4986),Qt=y(4482),ct=y(5403),Xt=y(8421);const at={leading:!0,trailing:!1};var Vt=y(2805);function ee(t,e,o,i){const s=window&&!!window.document&&window.document.documentElement;let a=s&&e?window:o;if(t&&(a=t&&s&&"string"==typeof t?function ne(t,e,o){return(o?window.document:e).querySelector(t)}(t,o.nativeElement,i):t,!a))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return a}function z(t){return t&&!t.firstChange}const ie={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},le={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class se{constructor(e=!0){this.vertical=e,this.propsMap=e?ie:le}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function ue(t){return["Window","global"].some(o=>Object.prototype.toString.call(t).includes(o))}function $(t,e){return t?e.document.documentElement:null}function ut(t,e){const o=function pe({container:t,isWindow:e,axis:o}){const{offsetHeightKey:i,clientHeightKey:s}=ft(o);return dt(t,e,i,s)}(e);return e.isWindow?function fe(t,e,o){const{axis:i,container:s,isWindow:a}=o,{offsetHeightKey:d,clientHeightKey:S}=ft(i),P=t+pt($(a,s),i,a),T=dt(e.nativeElement,a,d,S),M=function ge(t,e,o){const i=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+pt(t,e,o)}(e.nativeElement,i,a)+T;return{height:t,scrolled:P,totalToScroll:M,isWindow:a}}(o,t,e):function de(t,e,o){const{axis:i,container:s}=o;return{height:t,scrolled:s[i.scrollTopKey()],totalToScroll:s[i.scrollHeightKey()],isWindow:!1}}(o,0,e)}function ft(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function dt(t,e,o,i){if(isNaN(t[o])){const s=$(e,t);return s?s[i]:0}return t[o]}function pt(t,e,o){const i=e.pageYOffsetKey(),s=e.scrollTopKey(),a=e.offsetTopKey();return isNaN(window.pageYOffset)?$(o,t)[s]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[a]}function he(t,e={down:0,up:0},o){let i,s;if(t.totalToScroll<=0)return!1;const a=t.isWindow?t.scrolled:t.height+t.scrolled;return o?(i=(t.totalToScroll-a)/t.totalToScroll,s=(e?.down?e.down:0)/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-a)),s=(e?.up?e.up:0)/10),i<=s}class ve{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,o){this.updateScrollPosition(e),this.updateTotalToScroll(o)}updateTriggeredFlag(e,o){o?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,o){return o?this.triggered.down===e:this.triggered.up===e}}function Te(t){const{scrollContainer:e,scrollWindow:o,element:i,fromRoot:s}=t,a=function ce({windowElement:t,axis:e}){return function ae(t,e){const o=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return{...t,container:o}}({axis:e,isWindow:ue(t)},t)}({axis:new se(!t.horizontal),windowElement:ee(e,o,i,s)}),d=new ve({totalToScroll:ut(i,a)}),P={up:t.upDistance,down:t.downDistance};return function Ae(t){let e=(0,$t.R)(t.container,"scroll");return t.throttle&&(e=e.pipe(function te(t,e=Jt.z,o=at){const i=(0,Vt.H)(t,e);return function qt(t,e=at){return(0,Qt.e)((o,i)=>{const{leading:s,trailing:a}=e;let d=!1,S=null,P=null,T=!1;const M=()=>{P?.unsubscribe(),P=null,a&&(Z(),T&&i.complete())},O=()=>{P=null,T&&i.complete()},x=E=>P=(0,Xt.Xf)(t(E)).subscribe((0,ct.x)(i,M,O)),Z=()=>{if(d){d=!1;const E=S;S=null,i.next(E),!T&&x(E)}};o.subscribe((0,ct.x)(i,E=>{d=!0,S=E,(!P||P.closed)&&(s?Z():x(E))},()=>{T=!0,(!(a&&d&&P)||P.closed)&&i.complete()}))})}(()=>i,o)}(t.throttle,void 0,{leading:!0,trailing:!0}))),e}({container:a.container,throttle:t.throttle}).pipe((0,jt.z)(()=>(0,zt.of)(ut(i,a))),(0,G.U)(T=>function Me(t,e,o){const{scrollDown:i,fire:s}=function ye(t,e,o){const i=function me(t,e){return t<e.scrolled}(t,e);return{fire:he(e,o,i),scrollDown:i}}(t,e,o);return{scrollDown:i,fire:s,stats:e}}(d.lastScrollPosition,T,P)),(0,st.b)(({stats:T})=>d.updateScroll(T.scrolled,T.totalToScroll)),(0,rt.h)(({fire:T,scrollDown:M,stats:{totalToScroll:O}})=>function re(t,e,o){return!!(t&&e||!o&&e)}(t.alwaysCallback,T,d.isTriggeredScroll(O,M))),(0,st.b)(({scrollDown:T,stats:{totalToScroll:M}})=>{d.updateTriggeredFlag(M,T)}),(0,G.U)(Oe))}function Oe(t){const{scrollDown:e,stats:{scrolled:o}}=t;return{type:e?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:o}}}let Ee=(()=>{class t{constructor(o,i){this.element=o,this.zone=i,this.scrolled=new n.vpe,this.scrolledUp=new n.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:i,infiniteScrollDistance:s}){const a=z(o),d=z(i),S=z(s),P=!d&&!this.infiniteScrollDisabled||d&&!i.currentValue||S;(a||d||S)&&(this.destroyScroller(),P&&this.setup())}setup(){(function oe(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Te({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.zone.run(()=>this.handleOnScroll(o)))})}handleOnScroll({type:o,payload:i}){switch(o){case"[NGX_ISE] DOWN":return this.scrolled.emit(i);case"[NGX_ISE] UP":return this.scrolledUp.emit(i);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275dir=n.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[n.TTD]}),t})(),we=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();function xe(t,e){if(1&t&&(n.TgZ(0,"mat-list-option",6),n._uU(1),n.qZA()),2&t){const o=e.$implicit;n.Q6J("value",o),n.xp6(1),n.hij(" ",o.name," ")}}function Ce(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-selection-list",3,4),n.YNc(3,xe,2,2,"mat-list-option",5),n.qZA(),n.BQk()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("multiple",!1),n.xp6(2),n.Q6J("ngForOf",o.list)}}function ke(t,e){1&t&&(n.TgZ(0,"div"),n._uU(1," No Pokemons found. "),n.qZA())}let Le=(()=>{class t{constructor(){this.list=[],this.scrollLoad=new n.vpe}ngOnInit(){}onScrollDown(){this.scrollLoad.emit(k.Next)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-all-pokemon-list"]],inputs:{list:"list"},outputs:{scrollLoad:"scrollLoad"},decls:4,vars:6,consts:[["infiniteScroll","",1,"poke-list",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],[4,"ngIf","ngIfElse"],["noItems",""],["dense","",3,"multiple"],["shoes",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,i){if(1&o&&(n.TgZ(0,"div",0),n.NdJ("scrolled",function(){return i.onScrollDown()}),n.YNc(1,Ce,4,2,"ng-container",1),n.qZA(),n.YNc(2,ke,2,0,"ng-template",null,2,n.W1O)),2&o){const s=n.MAs(3);n.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("infiniteScrollContainer",".content-parent")("fromRoot",!0),n.xp6(1),n.Q6J("ngIf",i.list&&i.list.length>0)("ngIfElse",s)}},dependencies:[b.sg,b.O5,lt.Ub,lt.vS,Ee],styles:[".poke-list[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{height:30px}.poke-list[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]:hover{background-color:#e4e6f9}.poke-list[_ngcontent-%COMP%]   .mat-list-single-selected-option[_ngcontent-%COMP%]{background-color:#e4e6f9;font-weight:500}"],changeDetection:0}),t})();function Ie(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"div",12)(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div"),n._uU(5," | "),n.qZA(),n.TgZ(6,"div"),n._uU(7),n.qZA()(),n.BQk()),2&t){const o=e.ngIf;n.xp6(3),n.AsE(" page ",o.currentPage," / ",o.pages," "),n.xp6(4),n.hij(" total: ",o.totalCount," ")}}function Ne(t,e){if(1&t&&(n.ynx(0),n.YNc(1,Ie,8,3,"ng-container",11),n.ALo(2,"async"),n.BQk()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,o.ps.allPaginationData$))}}function be(t,e){if(1&t){const o=n.EpF();n.TgZ(0,"button",13),n.NdJ("click",function(){n.CHM(o);const s=n.oxw();return n.KtG(s.togglePageData())}),n._uU(1,"Show pagination data"),n.qZA()}}const De=[{path:"",component:Pt,children:[{path:"",redirectTo:"species",pathMatch:"full"},{path:"species",component:(()=>{class t{constructor(o){this.ps=o,this.title="All Pokemons",this.scrollPosition=k,this.actionBtns=[],this.showPageData=!1}ngOnInit(){}navPage(o){this.ps.fetchPokemonShells(void 0,o)}onScroll(o){console.log("scrolling"),this.navPage(k.Next)}togglePageData(){this.showPageData=!this.showPageData}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(Y))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-all"]],decls:34,vars:12,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","15px"],[1,"sticky-top","dashboard"],[3,"actions"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px",1,"page-data"],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"w-100","p-title"],["fxLayout","row","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex",""],[1,"fixed-display"],[3,"list","scrollLoad"],["showBtn",""],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px"],["mat-button","","color","primary",3,"click"]],template:function(o,i){if(1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"shared-action-bar",2),n.ALo(3,"async"),n.TgZ(4,"div",3)(5,"div"),n._uU(6),n.ALo(7,"async"),n.qZA(),n.TgZ(8,"div"),n._uU(9," | "),n.qZA(),n.TgZ(10,"div"),n.YNc(11,Ne,3,3,"ng-container",4),n.qZA()()()(),n.TgZ(12,"div",5),n._uU(13),n.qZA(),n.TgZ(14,"div",6)(15,"div",7)(16,"div",8)(17,"div"),n._uU(18," Details "),n.qZA(),n.TgZ(19,"div"),n._uU(20," Details "),n.qZA(),n.TgZ(21,"div"),n._uU(22," Details "),n.qZA(),n.TgZ(23,"div"),n._uU(24," Details "),n.qZA(),n.TgZ(25,"div"),n._uU(26," Details "),n.qZA(),n.TgZ(27,"div"),n._uU(28," Detailss "),n.qZA()()(),n.TgZ(29,"div",7)(30,"app-main-all-pokemon-list",9),n.NdJ("scrollLoad",function(a){return i.onScroll(a)}),n.ALo(31,"async"),n.qZA()()()(),n.YNc(32,be,2,0,"ng-template",null,10,n.W1O)),2&o){const s=n.MAs(33);n.xp6(2),n.Q6J("actions",n.lcZ(3,6,i.ps.actionBarActions$)),n.xp6(4),n.hij(" ",n.lcZ(7,8,i.ps.pokemonListLoading$)?"Loading...":""," "),n.xp6(5),n.Q6J("ngIf",i.showPageData)("ngIfElse",s),n.xp6(2),n.hij(" ",i.title," "),n.xp6(17),n.Q6J("list",n.lcZ(31,10,i.ps.pokemonList$))}},dependencies:[b.O5,U.xw,U.SQ,U.Wh,U.yH,it.lW,Gt,Le,b.Ov],styles:[".p-title[_ngcontent-%COMP%]{font-family:quicksand;font-weight:500;font-size:1.5rem}.sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee;width:100%}.main-container[_ngcontent-%COMP%]{inset:60px 0}.main-sidenav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:200px;background:rgba(255,0,0,.5)}.fixed-display[_ngcontent-%COMP%]{border:1px solid #ccc}.page-data[_ngcontent-%COMP%]{font-size:13px;font-family:comfortaa;font-weight:700}"]}),t})(),data:{pageTitle:"Pokemon By Species"}}]}];let Fe=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[R.Bz.forChild(De),R.Bz]}),t})();const Ue=[{display:"Refresh",id:"refresh",disabled:!1,icon:"refresh"}],Ze=[(()=>{class t{constructor(o,i){this.actions$=o,this.ps=i}ngrxOnInitEffects(){return nt({actions:Ue})}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(L.eX),n.LFG(Y))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})()];var _e=y(3900);const Be=[(()=>{class t{constructor(o,i){this.actions$=o,this.ps=i,this.getPokemonShells$=(0,L.GW)(()=>this.actions$.pipe((0,L.l4)(B),(0,L.IC)(()=>this.ps.pagination$),(0,rt.h)(s=>!(void 0===s[0].page&&!s[1].nextPageUrl)),(0,_e.w)(s=>{let a=s[1];const d=s[0];let S;return d.scrollPosition&&(d.scrollPosition===k.Next?S=a.nextPageUrl:d.scrollPosition===k.Prev&&(S=a.previousPageUrl)),this.ps.getPokemonShells(d.page??0,S).pipe((0,G.U)(T=>(console.log(T),q({payload:T,fetchedDate:(new Date).getTime()}))))})))}ngrxOnInitEffects(){return B({page:0})}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(L.eX),n.LFG(Y))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})()];let He=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[h.Aw.forFeature(J,V),L.sQ.forFeature(Be),h.Aw.forFeature(et,ot),L.sQ.forFeature(Ze),St.n,mt,yt.d,we,Fe]}),t})()}}]);