"use strict";(self.webpackChunkpokemondb=self.webpackChunkpokemondb||[]).push([[506],{2506:(Se,X,y)=>{y.r(X),y.d(X,{MainModule:()=>ye});var M=y(493),f=y(9653),C=y(6895),Mt=y(9814),At=y(7061),n=y(4650);let xt=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[C.ez,Mt.o9,At.p]}),t})();var Ct=y(851),Et=y(6580),H=y(7337),wt=y(529),d=(()=>{return(t=d||(d={}))[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",d;var t})();function k(t){return function(o,i){const l={ids:[...i.ids],entities:{...i.entities}},r=t(o,l);return r===d.Both?Object.assign({},i,l):r===d.EntitiesOnly?{...i,entities:l.entities}:i}}function _(t,e){const o=e(t);return(0,n.X6Q)()&&void 0===o&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),o}function V(t){function e(m,a){const c=_(m,t);return c in a.entities?d.None:(a.ids.push(c),a.entities[c]=m,d.Both)}function o(m,a){let c=!1;for(const s of m)c=e(s,a)!==d.None||c;return c?d.Both:d.None}function l(m,a){const c=_(m,t);return c in a.entities?(a.entities[c]=m,d.EntitiesOnly):(a.ids.push(c),a.entities[c]=m,d.Both)}function h(m,a){const s=(m instanceof Array?m:a.ids.filter(u=>m(a.entities[u]))).filter(u=>u in a.entities).map(u=>delete a.entities[u]).length>0;return s&&(a.ids=a.ids.filter(u=>u in a.entities)),s?d.Both:d.None}function T(m,a){return x([m],a)}function x(m,a){const c={};return(m=m.filter(u=>u.id in a.entities)).length>0?m.filter(g=>function O(m,a,c){const u=Object.assign({},c.entities[a.id],a.changes),g=_(u,t),S=g!==a.id;return S&&(m[a.id]=g,delete c.entities[a.id]),c.entities[g]=u,S}(c,g,a)).length>0?(a.ids=a.ids.map(g=>c[g]||g),d.Both):d.EntitiesOnly:d.None}function G(m,a){const c=[],s=[];for(const S of m){const v=_(S,t);v in a.entities?s.push({id:v,changes:S}):c.push(S)}const u=x(s,a),g=o(c,a);switch(!0){case g===d.None&&u===d.None:return d.None;case g===d.Both||u===d.Both:return d.Both;default:return d.EntitiesOnly}}return{removeAll:function P(m){return Object.assign({},m,{ids:[],entities:{}})},addOne:k(e),addMany:k(o),setAll:k(function i(m,a){return a.ids=[],a.entities={},o(m,a),d.Both}),setOne:k(l),setMany:k(function r(m,a){const c=m.map(s=>l(s,a));switch(!0){case c.some(s=>s===d.Both):return d.Both;case c.some(s=>s===d.EntitiesOnly):return d.EntitiesOnly;default:return d.None}}),updateOne:k(T),updateMany:k(x),upsertOne:k(function E(m,a){return G([m],a)}),upsertMany:k(G),removeOne:k(function p(m,a){return h([m],a)}),removeMany:k(h),map:k(function L(m,a){return x(a.ids.reduce((u,g)=>{const S=m(a.entities[g]);return S!==a.entities[g]&&u.push({id:g,changes:S}),u},[]).filter(({id:u})=>u in a.entities),a)}),mapOne:k(function B({map:m,id:a},c){const s=c.entities[a];return s?T({id:a,changes:m(s)},c):d.None})}}function Dt(t,e){const{removeOne:o,removeMany:i,removeAll:l}=V(t);function r(c,s){return p([c],s)}function p(c,s){const u=c.filter(g=>!(_(g,t)in s.entities));return 0===u.length?d.None:(a(u,s),d.Both)}function P(c,s){const u=_(c,t);return u in s.entities?(s.ids=s.ids.filter(g=>g!==u),a([c],s),d.Both):r(c,s)}function T(c,s){return L([c],s)}function L(c,s){const u=[],g=c.filter(S=>function x(c,s,u){if(!(s.id in u.entities))return!1;const S=Object.assign({},u.entities[s.id],s.changes),v=_(S,t);return delete u.entities[s.id],c.push(S),v!==s.id}(u,S,s)).length>0;if(0===u.length)return d.None;{const S=s.ids,v=[];return s.ids=s.ids.filter((w,b)=>w in s.entities||(v.push(b),!1)),a(u,s),!g&&v.every(w=>s.ids[w]===S[w])?d.EntitiesOnly:d.Both}}function m(c,s){const u=[],g=[];for(const w of c){const b=_(w,t);b in s.entities?g.push({id:b,changes:w}):u.push(w)}const S=L(g,s),v=p(u,s);switch(!0){case v===d.None&&S===d.None:return d.None;case v===d.Both||S===d.Both:return d.Both;default:return d.EntitiesOnly}}function a(c,s){c.sort(e);const u=[];let g=0,S=0;for(;g<c.length&&S<s.ids.length;){const v=c[g],w=_(v,t),b=s.ids[S];e(v,s.entities[b])<=0?(u.push(w),g++):(u.push(b),S++)}s.ids=u.concat(g<c.length?c.slice(g).map(t):s.ids.slice(S)),c.forEach((v,w)=>{s.entities[t(v)]=v})}return{removeOne:o,removeMany:i,removeAll:l,addOne:k(r),updateOne:k(T),upsertOne:k(function G(c,s){return m([c],s)}),setAll:k(function h(c,s){return s.entities={},s.ids=[],p(c,s),d.Both}),setOne:k(P),setMany:k(function O(c,s){const u=c.map(g=>P(g,s));switch(!0){case u.some(g=>g===d.Both):return d.Both;case u.some(g=>g===d.EntitiesOnly):return d.EntitiesOnly;default:return d.None}}),addMany:k(p),updateMany:k(L),upsertMany:k(m),map:k(function B(c,s){return L(s.ids.reduce((g,S)=>{const v=c(s.entities[S]);return v!==s.entities[S]&&g.push({id:S,changes:v}),g},[]),s)}),mapOne:k(function E({map:c,id:s},u){const g=u.entities[s];return g?T({id:s,changes:c(g)},u):d.None})}}function q(t={}){const{selectId:e,sortComparer:o}={selectId:t.selectId??(p=>p.id),sortComparer:t.sortComparer??!1},i=function It(){return{getInitialState:function t(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),l=function Nt(){return{getSelectors:function t(e){const o=p=>p.ids,i=p=>p.entities,l=(0,f.P1)(o,i,(p,h)=>p.map(P=>h[P])),r=(0,f.P1)(o,p=>p.length);return e?{selectIds:(0,f.P1)(e,o),selectEntities:(0,f.P1)(e,i),selectAll:(0,f.P1)(e,l),selectTotal:(0,f.P1)(e,r)}:{selectIds:o,selectEntities:i,selectAll:l,selectTotal:r}}}}();return{selectId:e,sortComparer:o,...i,...l,...o?Dt(e,o):V(e)}}const W=(0,f.PH)("[Pokemon All/API] Get all pokemon start",(0,f.Ky)()),tt=(0,f.PH)("[Pokemon All/API] Get all pokemon successful",(0,f.Ky)()),Ht=(0,f.PH)("[Pokemon All/API] Get all pokemon failure",(0,f.Ky)()),Y=(0,f.PH)("[Pokemon/API] Get a pokemon start",(0,f.Ky)()),nt=(0,f.PH)("[Pokemon/API] Get a pokemon successful",(0,f.Ky)()),et=(0,f.PH)("[Pokemon/API] Get a pokemon failure",(0,f.Ky)()),F=q({selectId:function Rt(t){return t.name}}),$t=F.getInitialState({apiWorking:!1,firstTimeLoading:!0,errMsg:void 0,error:!1,lastFetchedDate:void 0,pagination:{limit:20,firstOffset:0}}),ot=(0,f.Lq)($t,(0,f.on)(W,(t,{page:e})=>({...t,apiWorking:!0,pagination:{...t.pagination,pageRequested:e}})),(0,f.on)(tt,(t,{payload:e,fetchedDate:o})=>{const i=e.results,l=((t,e)=>{const o=e.count,i=e.next,l=e.previous,r=Math.floor(o/20);let p=0,h=t.nextOffset??0;i?(h=+(new URL(i).searchParams.get("offset")??0),p=(h-(t.limit??20))/(t.limit??20)):p=r;let P=t.prevOffset??0;return l&&(P=+(new URL(l).searchParams.get("offset")??0)),{pageRequested:t.pageRequested,limit:t.limit,currentPage:p,nextOffset:h,prevOffset:P,firstOffset:0,lastOffset:20*r-20,pages:r,totalCount:o,nextPageUrl:i,previousPageUrl:l}})(t.pagination,e);return F.addMany(i,{...t,apiWorking:!1,firstTimeLoading:!1,error:!1,errMsg:void 0,pagination:l,lastFetchedDate:o})}),(0,f.on)(Ht,(t,{errMsg:e})=>({...t,apiWorking:!1,errMsg:e,error:!0}))),it="allPokemonShells";var I=(()=>{return(t=I||(I={})).Next="NEXT",t.Prev="PREV",I;var t})();const N=(0,f.ZF)(it),Gt=((0,f.P1)(N,F.getSelectors().selectIds),(0,f.P1)(N,F.getSelectors().selectEntities),(0,f.P1)(N,F.getSelectors().selectAll)),Yt=((0,f.P1)(N,F.getSelectors().selectTotal),(0,f.P1)(N,t=>t.firstTimeLoading)),Qt=(0,f.P1)(N,t=>t.apiWorking),st=(0,f.P1)(N,t=>t.pagination),lt="allPokemonActionBar",rt=(0,f.PH)("[Pokemon All Actions/UI] Set action bar items",(0,f.Ky)());(0,f.PH)("[Pokemon All Actions/UI] Edit action property",(0,f.Ky)());const Z=q({selectId:function Jt(t){return t.id}}),Xt=Z.getInitialState({apiWorking:!1}),ct=(0,f.Lq)(Xt,(0,f.on)(rt,(t,{actions:e})=>Z.setAll(e,{...t}))),R=(0,f.ZF)(lt),Vt=((0,f.P1)(R,Z.getSelectors().selectIds),(0,f.P1)(R,Z.getSelectors().selectEntities),(0,f.P1)(R,Z.getSelectors().selectAll)),at=((0,f.P1)(R,Z.getSelectors().selectTotal),"pokemonDetail"),ut=(0,f.ZF)(at),qt=(0,f.P1)(ut,t=>t.apiLoading),tn=(0,f.P1)(ut,t=>t.pokemon);var nn=y(4691);const ft="https://pokeapi.co/api/v2/pokemon";let D=(()=>{class t{constructor(o,i){this.httpService=o,this.store=i,this.pagination$=this.store.select(st),this.actionBarActions$=this.store.select(Vt),this.pokemonList$=this.store.select(Gt),this.pokemonListLoading$=this.store.select(Qt),this.pokemonListFirstLoading$=this.store.select(Yt),this.allPaginationData$=this.store.select(st),this.pokemonDetailLoading$=this.store.select(qt),this.selectedPokemon$=this.store.select(tn)}getPokemonShells(o,i){let l=new wt.LE,r=ft;return i?r=i:(l=l.set("offset",20*(o??0)),l=l.set("limit",20)),this.httpService.get(r,l)}getPokemon(o){return this.httpService.get(`${ft}/${o}`)}fetchPokemonShells(o,i){this.store.dispatch(W({page:o,scrollPosition:i}))}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(nn.O),n.LFG(f.yh))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=y(1576),dt=y(4859),en=y(7392);function on(t,e){if(1&t){const o=n.EpF();n.ynx(0),n.TgZ(1,"button",3),n.NdJ("click",function(){const r=n.CHM(o).$implicit,p=n.oxw();return n.KtG(p.onActionClick(r))}),n.TgZ(2,"mat-icon"),n._uU(3),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.qZA()(),n.BQk()}if(2&t){const o=e.$implicit;n.xp6(3),n.hij("",o.icon," "),n.xp6(2),n.Oqu(o.display)}}const sn=["*"];let ln=(()=>{class t{constructor(){this.actions=[]}ngOnInit(){}onActionClick(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["shared-action-bar"]],inputs:{actions:"actions"},ngContentSelectors:sn,decls:5,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center","id","app-dashboard-action-bar",1,""],[1,""],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"]],template:function(o,i){1&o&&(n.F$t(),n.TgZ(0,"section",0)(1,"div",1),n.YNc(2,on,6,2,"ng-container",2),n.qZA(),n.TgZ(3,"div"),n.Hsn(4),n.qZA()()),2&o&&(n.xp6(2),n.Q6J("ngForOf",i.actions))},dependencies:[C.sg,dt.lW,en.Hw,A.xw,A.Wh],styles:["button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();function rn(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"div",7)(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div"),n._uU(5," | "),n.qZA(),n.TgZ(6,"div"),n._uU(7),n.qZA()(),n.BQk()),2&t){const o=e.ngIf;n.xp6(3),n.AsE(" page ",o.currentPage," / ",o.pages," "),n.xp6(4),n.hij(" total: ",o.totalCount," ")}}function cn(t,e){if(1&t&&(n.ynx(0),n.YNc(1,rn,8,3,"ng-container",6),n.ALo(2,"async"),n.BQk()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,o.ps.allPaginationData$))}}function an(t,e){1&t&&(n.TgZ(0,"button",8),n._uU(1,"Show pagination data"),n.qZA())}let un=(()=>{class t{constructor(o){this.ps=o}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(D))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main"]],decls:15,vars:8,consts:[[1,"container-fluid","mb-5"],[1,"sticky-top","dashboard"],[3,"actions"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px",1,"page-data"],[4,"ngIf","ngIfElse"],["showBtn",""],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px"],["mat-button","","color","primary"]],template:function(o,i){if(1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"shared-action-bar",2),n.ALo(3,"async"),n.TgZ(4,"div",3)(5,"div"),n._uU(6),n.ALo(7,"async"),n.qZA(),n.TgZ(8,"div"),n._uU(9," | "),n.qZA(),n.TgZ(10,"div"),n.YNc(11,cn,3,3,"ng-container",4),n.qZA()()()(),n._UZ(12,"router-outlet"),n.qZA(),n.YNc(13,an,2,0,"ng-template",null,5,n.W1O)),2&o){const l=n.MAs(14);n.xp6(2),n.Q6J("actions",n.lcZ(3,4,i.ps.actionBarActions$)),n.xp6(4),n.hij(" ",n.lcZ(7,6,i.ps.pokemonListLoading$)?"Loading...":""," "),n.xp6(5),n.Q6J("ngIf",!0)("ngIfElse",l)}},dependencies:[C.O5,A.xw,A.SQ,A.Wh,dt.lW,ln,H.lC,C.Ov],styles:[".sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee;width:100%;margin-bottom:15px}"]}),t})();var fn=y(7579);let Q=(()=>{class t{constructor(){this.wholePage=!1,this.loading=!0,this.logoShakeState=!1,this.compDest$=new fn.x}ngOnChanges(o){this.parentClass=this.wholePage?"whole-page loading-container":"container loading-container mt-5"}ngOnInit(){}ngOnDestroy(){this.compDest$.next(null),this.compDest$.complete()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-shared-loading"]],inputs:{wholePage:"wholePage",message:"message"},features:[n.TTD],decls:12,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"w-100"],[1,""],[1,"loading-logo"],["src","assets/img/poke-logo.png","alt","logo",1,"logo-img","d-inline-block"],[1,"loading-parent"],[1,"lds-facebook"],[1,"secfont"]],template:function(o,i){1&o&&(n.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),n._UZ(4,"img",3),n.qZA()(),n.TgZ(5,"div",4)(6,"div",5),n._UZ(7,"div")(8,"div")(9,"div"),n.qZA()(),n.TgZ(10,"div",6),n._uU(11),n.qZA()()()),2&o&&(n.Tol(i.parentClass),n.xp6(11),n.hij(" Loading ",i.message," ... "))},dependencies:[A.xw,A.Wh],styles:[".loading-logo[_ngcontent-%COMP%]{height:3rem}.loading-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.loading-parent[_ngcontent-%COMP%]{justify-content:center;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.whole-page[_ngcontent-%COMP%]{position:fixed;width:100%}.lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background:#007bff;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;animation-delay:0}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),t})();var dn=y(3238),pt=y(6338),gt=y(9646),pn=y(4968),gn=y(5577),U=y(4004),mt=y(8505),j=y(9300),mn=y(4986),hn=y(4482),ht=y(5403),yn=y(8421);const yt={leading:!0,trailing:!1};var Sn=y(2805);function On(t,e,o,i){const l=window&&!!window.document&&window.document.documentElement;let r=l&&e?window:o;if(t&&(r=t&&l&&"string"==typeof t?function vn(t,e,o){return(o?window.document:e).querySelector(t)}(t,o.nativeElement,i):t,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function z(t){return t&&!t.firstChange}const Mn={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},An={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class xn{constructor(e=!0){this.vertical=e,this.propsMap=e?Mn:An}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Ln(t){return["Window","global"].some(o=>Object.prototype.toString.call(t).includes(o))}function J(t,e){return t?e.document.documentElement:null}function Pt(t,e){const o=function Nn({container:t,isWindow:e,axis:o}){const{offsetHeightKey:i,clientHeightKey:l}=St(o);return kt(t,e,i,l)}(e);return e.isWindow?function _n(t,e,o){const{axis:i,container:l,isWindow:r}=o,{offsetHeightKey:p,clientHeightKey:h}=St(i),P=t+Ot(J(r,l),i,r),O=kt(e.nativeElement,r,p,h),T=function Dn(t,e,o){const i=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+Ot(t,e,o)}(e.nativeElement,i,r)+O;return{height:t,scrolled:P,totalToScroll:T,isWindow:r}}(o,t,e):function In(t,e,o){const{axis:i,container:l}=o;return{height:t,scrolled:l[i.scrollTopKey()],totalToScroll:l[i.scrollHeightKey()],isWindow:!1}}(o,0,e)}function St(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function kt(t,e,o,i){if(isNaN(t[o])){const l=J(e,t);return l?l[i]:0}return t[o]}function Ot(t,e,o){const i=e.pageYOffsetKey(),l=e.scrollTopKey(),r=e.offsetTopKey();return isNaN(window.pageYOffset)?J(o,t)[l]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[r]}function bn(t,e={down:0,up:0},o){let i,l;if(t.totalToScroll<=0)return!1;const r=t.isWindow?t.scrolled:t.height+t.scrolled;return o?(i=(t.totalToScroll-r)/t.totalToScroll,l=(e?.down?e.down:0)/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-r)),l=(e?.up?e.up:0)/10),i<=l}class Kn{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,o){this.updateScrollPosition(e),this.updateTotalToScroll(o)}updateTriggeredFlag(e,o){o?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,o){return o?this.triggered.down===e:this.triggered.up===e}}function Hn(t){const{scrollContainer:e,scrollWindow:o,element:i,fromRoot:l}=t,r=function En({windowElement:t,axis:e}){return function wn(t,e){const o=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return{...t,container:o}}({axis:e,isWindow:Ln(t)},t)}({axis:new xn(!t.horizontal),windowElement:On(e,o,i,l)}),p=new Kn({totalToScroll:Pt(i,r)}),P={up:t.upDistance,down:t.downDistance};return function Wn(t){let e=(0,pn.R)(t.container,"scroll");return t.throttle&&(e=e.pipe(function kn(t,e=mn.z,o=yt){const i=(0,Sn.H)(t,e);return function Pn(t,e=yt){return(0,hn.e)((o,i)=>{const{leading:l,trailing:r}=e;let p=!1,h=null,P=null,O=!1;const T=()=>{P?.unsubscribe(),P=null,r&&(B(),O&&i.complete())},x=()=>{P=null,O&&i.complete()},L=E=>P=(0,yn.Xf)(t(E)).subscribe((0,ht.x)(i,T,x)),B=()=>{if(p){p=!1;const E=h;h=null,i.next(E),!O&&L(E)}};o.subscribe((0,ht.x)(i,E=>{p=!0,h=E,(!P||P.closed)&&(l?B():L(E))},()=>{O=!0,(!(r&&p&&P)||P.closed)&&i.complete()}))})}(()=>i,o)}(t.throttle,void 0,{leading:!0,trailing:!0}))),e}({container:r.container,throttle:t.throttle}).pipe((0,gn.z)(()=>(0,gt.of)(Pt(i,r))),(0,U.U)(O=>function Rn(t,e,o){const{scrollDown:i,fire:l}=function Zn(t,e,o){const i=function Fn(t,e){return t<e.scrolled}(t,e);return{fire:bn(e,o,i),scrollDown:i}}(t,e,o);return{scrollDown:i,fire:l,stats:e}}(p.lastScrollPosition,O,P)),(0,mt.b)(({stats:O})=>p.updateScroll(O.scrolled,O.totalToScroll)),(0,j.h)(({fire:O,scrollDown:T,stats:{totalToScroll:x}})=>function Cn(t,e,o){return!!(t&&e||!o&&e)}(t.alwaysCallback,O,p.isTriggeredScroll(x,T))),(0,mt.b)(({scrollDown:O,stats:{totalToScroll:T}})=>{p.updateTriggeredFlag(T,O)}),(0,U.U)($n))}function $n(t){const{scrollDown:e,stats:{scrolled:o}}=t;return{type:e?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:o}}}let Gn=(()=>{class t{constructor(o,i){this.element=o,this.zone=i,this.scrolled=new n.vpe,this.scrolledUp=new n.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:i,infiniteScrollDistance:l}){const r=z(o),p=z(i),h=z(l),P=!p&&!this.infiniteScrollDisabled||p&&!i.currentValue||h;(r||p||h)&&(this.destroyScroller(),P&&this.setup())}setup(){(function Tn(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Hn({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.zone.run(()=>this.handleOnScroll(o)))})}handleOnScroll({type:o,payload:i}){switch(o){case"[NGX_ISE] DOWN":return this.scrolled.emit(i);case"[NGX_ISE] UP":return this.scrolledUp.emit(i);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275dir=n.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[n.TTD]}),t})(),Yn=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();const Qn=function(t){return["../",t]};function jn(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"a",6)(2,"mat-list-item")(3,"div",7),n._UZ(4,"img",8),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()()(),n.BQk()),2&t){const o=e.$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(3,Qn,o.name)),n.xp6(3),n.Q6J("src","assets/img/pokeball.png",n.LSH),n.xp6(2),n.hij(" ",o.name," ")}}function zn(t,e){1&t&&(n.ynx(0),n._UZ(1,"app-shared-loading",9),n.BQk()),2&t&&(n.xp6(1),n.Q6J("message","Pokemons"))}function Jn(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"mat-nav-list",3),n.YNc(2,jn,7,5,"ng-container",4),n.qZA(),n.YNc(3,zn,2,1,"ng-container",5),n.ALo(4,"async"),n.BQk()),2&t){const o=n.oxw();n.xp6(2),n.Q6J("ngForOf",o.list),n.xp6(1),n.Q6J("ngIf",n.lcZ(4,2,o.ps.pokemonListLoading$))}}function Xn(t,e){1&t&&(n.TgZ(0,"div"),n._uU(1," No Pokemons found. "),n.qZA())}let Vn=(()=>{class t{constructor(o){this.ps=o,this.scrollLoad=new n.vpe}ngOnInit(){}showInfo(o){}onScrollDown(){this.scrollLoad.emit(I.Next)}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(D))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-all-pokemon-list"]],inputs:{list:"list"},outputs:{scrollLoad:"scrollLoad"},decls:4,vars:6,consts:[["infiniteScroll","",1,"poke-list",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],[4,"ngIf","ngIfElse"],["noItems",""],["dense",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["matLine","",3,"routerLink"],[1,"logo","mr-2"],[3,"src"],[3,"message"]],template:function(o,i){if(1&o&&(n.TgZ(0,"div",0),n.NdJ("scrolled",function(){return i.onScrollDown()}),n.YNc(1,Jn,5,4,"ng-container",1),n.qZA(),n.YNc(2,Xn,2,0,"ng-template",null,2,n.W1O)),2&o){const l=n.MAs(3);n.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("infiniteScrollContainer",".content-parent")("fromRoot",!0),n.xp6(1),n.Q6J("ngIf",i.list&&i.list.length>0)("ngIfElse",l)}},dependencies:[C.sg,C.O5,dn.X2,pt.Hk,pt.Tg,Q,Gn,H.yS,C.Ov],styles:["[_nghost-%COMP%]{width:100%}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:35px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:100%}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background-color:transparent;font-weight:700}.poke-list[_ngcontent-%COMP%]   .mat-list-single-selected-option[_ngcontent-%COMP%]{background-color:#e4e6f9;font-weight:500}"],changeDetection:0}),t})();function qn(t,e){if(1&t){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",4)(2,"app-main-all-pokemon-list",5),n.NdJ("scrollLoad",function(l){n.CHM(o);const r=n.oxw();return n.KtG(r.onScroll(l))}),n.ALo(3,"async"),n.qZA()(),n.BQk()}if(2&t){const o=n.oxw();n.xp6(2),n.Q6J("list",n.lcZ(3,1,o.ps.pokemonList$))}}function te(t,e){1&t&&(n.TgZ(0,"div",6),n._UZ(1,"app-shared-loading"),n.qZA())}let ne=(()=>{class t{constructor(o){this.ps=o,this.title="Pokemon Directory",this.scrollPosition=I,this.actionBtns=[],this.showPageData=!1}ngOnInit(){}navPage(o){this.ps.fetchPokemonShells(void 0,o)}onScroll(o){this.navPage(I.Next)}togglePageData(){this.showPageData=!this.showPageData}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(D))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-all"]],decls:7,vars:5,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","15px"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"w-100","p-title"],[4,"ngIf","ngIfElse"],["firstTimeLoadMask",""],["fxLayout","row","fxLayoutAlign","start start",1,"w-100"],[3,"list","scrollLoad"],[1,"my-5"]],template:function(o,i){if(1&o&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2),n.qZA(),n.YNc(3,qn,4,3,"ng-container",2),n.ALo(4,"async"),n.qZA(),n.YNc(5,te,2,0,"ng-template",null,3,n.W1O)),2&o){const l=n.MAs(6);n.xp6(2),n.hij(" ",i.title," "),n.xp6(1),n.Q6J("ngIf",!1===n.lcZ(4,3,i.ps.pokemonListFirstLoading$))("ngIfElse",l)}},dependencies:[C.O5,A.xw,A.SQ,A.Wh,Q,Vn,C.Ov],styles:[".p-title[_ngcontent-%COMP%]{font-family:quicksand;font-weight:500;font-size:1.5rem}.main-container[_ngcontent-%COMP%]{inset:60px 0}.main-sidenav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:200px;background:rgba(255,0,0,.5)}.fixed-display[_ngcontent-%COMP%]{border:1px solid #ccc}.page-data[_ngcontent-%COMP%]{font-size:13px;font-family:comfortaa;font-weight:700}"]}),t})();var ee=y(105);function oe(t,e){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"div"),n._uU(3),n.qZA()(),n.BQk()),2&t){const o=n.oxw().ngIf;n.xp6(3),n.hij(" ",o.name," ")}}function ie(t,e){if(1&t&&(n.ynx(0),n.YNc(1,oe,4,1,"ng-container",3),n.BQk()),2&t){const o=e.ngIf;n.xp6(1),n.Q6J("ngIf",o)}}function se(t,e){if(1&t&&(n.ynx(0),n.YNc(1,ie,2,1,"ng-container",3),n.ALo(2,"async"),n.BQk()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,o.ps.selectedPokemon$))}}function le(t,e){1&t&&(n.TgZ(0,"div",4),n._UZ(1,"app-shared-loading"),n.qZA())}const re=[{path:"",component:un,children:[{path:"",redirectTo:"species",pathMatch:"full"},{path:"species",component:ne,data:{pageTitle:"Pokemon By Species"}},{path:":pokemonName",component:(()=>{class t{constructor(o){this.ps=o}ngOnInit(){(0,ee.H5)("app-dashboard-action-bar")}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(D))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main-all-pokemon-detail"]],decls:5,vars:4,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","15px"],[4,"ngIf","ngIfElse"],["isLoading",""],[4,"ngIf"],[1,"my-5"]],template:function(o,i){if(1&o&&(n.TgZ(0,"div",0),n.YNc(1,se,3,3,"ng-container",1),n.ALo(2,"async"),n.qZA(),n.YNc(3,le,2,0,"ng-template",null,2,n.W1O)),2&o){const l=n.MAs(4);n.xp6(1),n.Q6J("ngIf",!1===n.lcZ(2,2,i.ps.pokemonDetailLoading$))("ngIfElse",l)}},dependencies:[C.O5,A.xw,A.SQ,A.Wh,Q,C.Ov]}),t})(),data:{pageTitle:"Detail"}}]}];let ce=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[H.Bz.forChild(re),H.Bz]}),t})();const ae=[{display:"Refresh",id:"refresh",disabled:!1,icon:"refresh"}],ue=[(()=>{class t{constructor(o,i){this.actions$=o,this.ps=i}ngrxOnInitEffects(){return rt({actions:ae})}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(M.eX),n.LFG(D))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})()];var vt=y(3900),fe=y(6943),Tt=y(4847);const de=[(()=>{class t{constructor(o,i,l){this.actions$=o,this.ps=i,this.rs=l,this.getPokemonShells$=(0,M.GW)(()=>this.actions$.pipe((0,M.l4)(W),(0,M.IC)(()=>this.ps.pagination$),(0,j.h)(r=>!(void 0===r[0].page&&!r[1].nextPageUrl)),(0,vt.w)(r=>{let p=r[1];const h=r[0];let P;return h.scrollPosition&&(h.scrollPosition===I.Next?P=p.nextPageUrl:h.scrollPosition===I.Prev&&(P=p.previousPageUrl)),this.ps.getPokemonShells(h.page??0,P).pipe((0,U.U)(T=>tt({payload:T,fetchedDate:(new Date).getTime()})))}))),this.getPokemonFromRouteParams$=(0,M.GW)(()=>this.actions$.pipe((0,M.l4)(fe.tE),(0,M.IC)(()=>this.rs.routeParams$),(0,j.h)(r=>!!r[1].pokemonName),(0,U.U)(r=>r[1].pokemonName),(0,U.U)(r=>Y({pokemonName:r}))))}ngrxOnInitEffects(){return W({page:0})}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(M.eX),n.LFG(D),n.LFG(Tt.c))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})()],ge=(0,f.Lq)({apiLoading:!1,pokemonFetching:null,pokemon:void 0,error:!1},(0,f.on)(Y,(t,{pokemonName:e})=>({...t,pokemonFetching:e,apiLoading:!0})),(0,f.on)(nt,(t,{payload:e})=>({...t,apiLoading:!1,pokemon:e,errMsg:void 0,error:!1})),(0,f.on)(et,(t,{errMsg:e})=>({...t,apiLoading:!1,errMsg:e,error:!0})));var me=y(262);const he=[(()=>{class t{constructor(o,i,l){this.actions$=o,this.ps=i,this.rs=l,this.getPokemon$=(0,M.GW)(()=>this.actions$.pipe((0,M.l4)(Y),(0,vt.w)(r=>this.ps.getPokemon(r.pokemonName).pipe((0,U.U)(h=>nt({payload:h})),(0,me.K)(h=>(console.log(h),(0,gt.of)(et({errMsg:h.error+h.message}))))))))}}return t.\u0275fac=function(o){return new(o||t)(n.LFG(M.eX),n.LFG(D),n.LFG(Tt.c))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})()];let ye=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[f.Aw.forFeature(it,ot),M.sQ.forFeature(de),f.Aw.forFeature(lt,ct),M.sQ.forFeature(ue),f.Aw.forFeature(at,ge),M.sQ.forFeature(he),Et.n,xt,Ct.d,Yn,ce]}),t})()}}]);