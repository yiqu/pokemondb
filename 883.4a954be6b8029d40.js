"use strict";(self.webpackChunkpokemondb=self.webpackChunkpokemondb||[]).push([[883],{7883:(Ai,at,y)=>{y.r(at),y.d(at,{MainModule:()=>Mi});var x=y(493),d=y(9653),D=y(6895),Rn=y(9814),An=y(7061),r=y(4650);let En=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[D.ez,Rn.o9,An.p]}),e})();var Un=y(851),Ln=y(6580),de=y(7337),Le=y(8505),lt=y(105),In=y(529);const V=60;var k=(()=>{return(e=k||(k={}))[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None",k;var e})();function C(e){return function(n,o){const s={ids:[...o.ids],entities:{...o.entities}},i=e(n,s);return i===k.Both?Object.assign({},o,s):i===k.EntitiesOnly?{...o,entities:s.entities}:o}}function q(e,t){const n=t(e);return(0,r.X6Q)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",t.toString()),n}function ct(e){function t(m,g){const h=q(m,e);return h in g.entities?k.None:(g.ids.push(h),g.entities[h]=m,k.Both)}function n(m,g){let h=!1;for(const u of m)h=t(u,g)!==k.None||h;return h?k.Both:k.None}function s(m,g){const h=q(m,e);return h in g.entities?(g.entities[h]=m,k.EntitiesOnly):(g.ids.push(h),g.entities[h]=m,k.Both)}function c(m,g){const u=(m instanceof Array?m:g.ids.filter(p=>m(g.entities[p]))).filter(p=>p in g.entities).map(p=>delete g.entities[p]).length>0;return u&&(g.ids=g.ids.filter(p=>p in g.entities)),u?k.Both:k.None}function _(m,g){return T([m],g)}function T(m,g){const h={};return(m=m.filter(p=>p.id in g.entities)).length>0?m.filter(P=>function f(m,g,h){const p=Object.assign({},h.entities[g.id],g.changes),P=q(p,e),S=P!==g.id;return S&&(m[g.id]=P,delete h.entities[g.id]),h.entities[P]=p,S}(h,P,g)).length>0?(g.ids=g.ids.map(P=>h[P]||P),k.Both):k.EntitiesOnly:k.None}function R(m,g){const h=[],u=[];for(const S of m){const O=q(S,e);O in g.entities?u.push({id:O,changes:S}):h.push(S)}const p=T(u,g),P=n(h,g);switch(!0){case P===k.None&&p===k.None:return k.None;case P===k.Both||p===k.Both:return k.Both;default:return k.EntitiesOnly}}return{removeAll:function l(m){return Object.assign({},m,{ids:[],entities:{}})},addOne:C(t),addMany:C(n),setAll:C(function o(m,g){return g.ids=[],g.entities={},n(m,g),k.Both}),setOne:C(s),setMany:C(function i(m,g){const h=m.map(u=>s(u,g));switch(!0){case h.some(u=>u===k.Both):return k.Both;case h.some(u=>u===k.EntitiesOnly):return k.EntitiesOnly;default:return k.None}}),updateOne:C(_),updateMany:C(T),upsertOne:C(function w(m,g){return R([m],g)}),upsertMany:C(R),removeOne:C(function a(m,g){return c([m],g)}),removeMany:C(c),map:C(function v(m,g){return T(g.ids.reduce((p,P)=>{const S=m(g.entities[P]);return S!==g.entities[P]&&p.push({id:P,changes:S}),p},[]).filter(({id:p})=>p in g.entities),g)}),mapOne:C(function b({map:m,id:g},h){const u=h.entities[g];return u?_({id:g,changes:m(u)},h):k.None})}}function Gn(e,t){const{removeOne:n,removeMany:o,removeAll:s}=ct(e);function i(h,u){return a([h],u)}function a(h,u){const p=h.filter(P=>!(q(P,e)in u.entities));return 0===p.length?k.None:(g(p,u),k.Both)}function l(h,u){const p=q(h,e);return p in u.entities?(u.ids=u.ids.filter(P=>P!==p),g([h],u),k.Both):i(h,u)}function _(h,u){return v([h],u)}function v(h,u){const p=[],P=h.filter(S=>function T(h,u,p){if(!(u.id in p.entities))return!1;const S=Object.assign({},p.entities[u.id],u.changes),O=q(S,e);return delete p.entities[u.id],h.push(S),O!==u.id}(p,S,u)).length>0;if(0===p.length)return k.None;{const S=u.ids,O=[];return u.ids=u.ids.filter((E,$)=>E in u.entities||(O.push($),!1)),g(p,u),!P&&O.every(E=>u.ids[E]===S[E])?k.EntitiesOnly:k.Both}}function m(h,u){const p=[],P=[];for(const E of h){const $=q(E,e);$ in u.entities?P.push({id:$,changes:E}):p.push(E)}const S=v(P,u),O=a(p,u);switch(!0){case O===k.None&&S===k.None:return k.None;case O===k.Both||S===k.Both:return k.Both;default:return k.EntitiesOnly}}function g(h,u){h.sort(t);const p=[];let P=0,S=0;for(;P<h.length&&S<u.ids.length;){const O=h[P],E=q(O,e),$=u.ids[S];t(O,u.entities[$])<=0?(p.push(E),P++):(p.push($),S++)}u.ids=p.concat(P<h.length?h.slice(P).map(e):u.ids.slice(S)),h.forEach((O,E)=>{u.entities[e(O)]=O})}return{removeOne:n,removeMany:o,removeAll:s,addOne:C(i),updateOne:C(_),upsertOne:C(function R(h,u){return m([h],u)}),setAll:C(function c(h,u){return u.entities={},u.ids=[],a(h,u),k.Both}),setOne:C(l),setMany:C(function f(h,u){const p=h.map(P=>l(P,u));switch(!0){case p.some(P=>P===k.Both):return k.Both;case p.some(P=>P===k.EntitiesOnly):return k.EntitiesOnly;default:return k.None}}),addMany:C(a),updateMany:C(v),upsertMany:C(m),map:C(function b(h,u){return v(u.ids.reduce((P,S)=>{const O=h(u.entities[S]);return O!==u.entities[S]&&P.push({id:S,changes:O}),P},[]),u)}),mapOne:C(function w({map:h,id:u},p){const P=p.entities[u];return P?_({id:u,changes:h(P)},p):k.None})}}function Ie(e={}){const{selectId:t,sortComparer:n}={selectId:e.selectId??(a=>a.id),sortComparer:e.sortComparer??!1},o=function Nn(){return{getInitialState:function e(t={}){return Object.assign({ids:[],entities:{}},t)}}}(),s=function Bn(){return{getSelectors:function e(t){const n=a=>a.ids,o=a=>a.entities,s=(0,d.P1)(n,o,(a,c)=>a.map(l=>c[l])),i=(0,d.P1)(n,a=>a.length);return t?{selectIds:(0,d.P1)(t,n),selectEntities:(0,d.P1)(t,o),selectAll:(0,d.P1)(t,s),selectTotal:(0,d.P1)(t,i)}:{selectIds:n,selectEntities:o,selectAll:s,selectTotal:i}}}}();return{selectId:t,sortComparer:n,...o,...s,...n?Gn(t,n):ct(t)}}const ye=(0,d.PH)("[Pokemon All/API] Get all pokemon start",(0,d.Ky)()),Fe=(0,d.PH)("[Pokemon All/API] Get all pokemon successful",(0,d.Ky)()),ut=(0,d.PH)("[Pokemon All/API] Get all pokemon failure",(0,d.Ky)()),dt=(0,d.PH)("[Pokemon/UI] Reset pokemon detail prop"),De=(0,d.PH)("[Pokemon/API] Get a pokemon start",(0,d.Ky)()),Ne=(0,d.PH)("[Pokemon/API] Get a pokemon successful",(0,d.Ky)()),ht=(0,d.PH)("[Pokemon/API] Get a pokemon failure",(0,d.Ky)()),pt=(0,d.PH)("[Pokemon/API] Get a pokemon species start",(0,d.Ky)()),ft=(0,d.PH)("[Pokemon/API] Get a pokemon species successful",(0,d.Ky)()),gt=((0,d.PH)("[Pokemon/API] Get a pokemon species failure",(0,d.Ky)()),(0,d.PH)("[Pokemon/API] Set pokemon as favorite start",(0,d.Ky)())),mt=(0,d.PH)("[Pokemon/API] Set pokemon as favorite successful",(0,d.Ky)()),oo=(0,d.PH)("[Pokemon/API] Set pokemon as favorite failure",(0,d.Ky)()),ke=(0,d.PH)("[Pokemon/API] Get pokemon favorites start"),Be=(0,d.PH)("[Pokemon/API] Get pokemon favorites successful",(0,d.Ky)()),_t=(0,d.PH)("[Pokemon/API] Get pokemon favorites failure",(0,d.Ky)()),ee=Ie({selectId:function ro(e){return e.name}}),so=ee.getInitialState({apiWorking:!1,firstTimeLoading:!0,errMsg:void 0,error:!1,lastFetchedDate:void 0,pagination:{limit:V,firstOffset:0},endReached:!1}),yt=(0,d.Lq)(so,(0,d.on)(ye,(e,{page:t})=>({...e,apiWorking:!0,pagination:{...e.pagination,pageRequested:t}})),(0,d.on)(Fe,(e,{payload:t,fetchedDate:n})=>{const o=t.results,s=((e,t)=>{const n=t.count,o=t.next,s=t.previous,i=Math.floor(n/V);let a=0,c=e.nextOffset??0;o?(c=+(new URL(o).searchParams.get("offset")??0),a=(c-(e.limit??V))/(e.limit??V)):a=i;let l=e.prevOffset??0;return s&&(l=+(new URL(s).searchParams.get("offset")??0)),{pageRequested:e.pageRequested,limit:e.limit,currentPage:a,nextOffset:c,prevOffset:l,firstOffset:0,lastOffset:i*V,pages:i,totalCount:n,nextPageUrl:o,previousPageUrl:s}})(e.pagination,t);return ee.addMany(o,{...e,apiWorking:!1,firstTimeLoading:!1,error:!1,errMsg:void 0,pagination:s,lastFetchedDate:n,endReached:!t.next})}),(0,d.on)(ut,(e,{errMsg:t})=>({...e,apiWorking:!1,errMsg:t,error:!0})),(0,d.on)(Be,(e,{payload:t})=>{console.log(t);let n=[];return t.forEach(o=>{n.push({id:o.name,changes:{isFavorite:!0}})}),ee.updateMany(n,{...e})})),kt="allPokemonShells",Pt="favoritePokemonShells";var Y=(()=>{return(e=Y||(Y={})).Next="NEXT",e.Prev="PREV",Y;var e})();const ne=Ie({selectId:function io(e){return e.id}}),ao=ne.getInitialState({apiWorking:!1,errMsg:void 0,error:!1}),St=(0,d.Lq)(ao,(0,d.on)(ke,e=>({...e,apiWorking:!0})),(0,d.on)(Be,(e,{payload:t})=>ne.setAll(t,{...e,apiWorking:!1,error:!1,errMsg:void 0})),(0,d.on)(_t,(e,{errMsg:t})=>({...e,error:!0,errMsg:t,apiWorking:!1}))),he=(0,d.ZF)(Pt),lo=((0,d.P1)(he,ne.getSelectors().selectIds),(0,d.P1)(he,ne.getSelectors().selectEntities),(0,d.P1)(he,ne.getSelectors().selectAll)),X=((0,d.P1)(he,ne.getSelectors().selectTotal),(0,d.P1)(he,e=>e.apiWorking),(0,d.ZF)(kt)),Tt=((0,d.P1)(X,ee.getSelectors().selectIds),(0,d.P1)(X,ee.getSelectors().selectEntities),(0,d.P1)(X,ee.getSelectors().selectAll)),co=((0,d.P1)(X,ee.getSelectors().selectTotal),(0,d.P1)(X,e=>e.firstTimeLoading)),uo=(0,d.P1)(X,e=>e.apiWorking),vt=(0,d.P1)(X,e=>e.pagination),ho=(0,d.P1)(X,e=>e.endReached),po=(0,d.P1)(Tt,lo,(e,t)=>{const n=JSON.parse(JSON.stringify(e));return t.forEach(o=>{for(let s=0;s<e.length;s++)e[s].name===o.name&&(n[s].isFavorite=!0)}),n}),wt="allPokemonActionBar",bt=(0,d.PH)("[Pokemon All Actions/UI] Set action bar items",(0,d.Ky)());(0,d.PH)("[Pokemon All Actions/UI] Edit action property",(0,d.Ky)());const oe=Ie({selectId:function mo(e){return e.id}}),_o=oe.getInitialState({apiWorking:!1}),xt=(0,d.Lq)(_o,(0,d.on)(bt,(e,{actions:t})=>oe.setAll(t,{...e}))),Pe=(0,d.ZF)(wt),yo=((0,d.P1)(Pe,oe.getSelectors().selectIds),(0,d.P1)(Pe,oe.getSelectors().selectEntities),(0,d.P1)(Pe,oe.getSelectors().selectAll)),Ct=((0,d.P1)(Pe,oe.getSelectors().selectTotal),"pokemonDetail"),Ge=(0,d.ZF)(Ct),ko=(0,d.P1)(Ge,e=>e.apiLoading),Po=(0,d.P1)(Ge,e=>e.pokemon),So=(0,d.P1)(Ge,e=>e.species);var Ot=y(4691),N=y(4984),He=y(2843),$e=y(5698),A=y(4004),re=y(262),To=y(9751),se=y(9646),Se=y(8996),vo=y(8372),ie=y(3900),pe=y(6351),Te=y(2011),wo=y(3942),ve=y(5861),we=y(9681),G=y(2090),Mt=y(3475);const Rt="firebasestorage.googleapis.com",At="storageBucket";class M extends G.ZR{constructor(t,n,o=0){super(Ze(t),`Firebase Storage: ${n} (${Ze(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,M.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ze(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ze(e){return"storage/"+e}function Ke(){return new M("unknown","An unknown error occurred, please check the error payload for server response.")}function Et(){return new M("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Ut(){return new M("canceled","User canceled the upload/download.")}function Lt(){return new M("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ae(e){return new M("invalid-argument",e)}function It(){return new M("app-deleted","The Firebase app was deleted.")}function Ft(e){return new M("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fe(e,t){return new M("invalid-format","String does not match format '"+e+"': "+t)}function ge(e){throw new M("internal-error","Internal error: "+e)}class U{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let o;try{o=U.makeFromUrl(t,n)}catch{return new U(t,"")}if(""===o.path)return o;throw function Lo(e){return new M("invalid-default-bucket","Invalid default bucket '"+e+"'.")}(t)}static makeFromUrl(t,n){let o=null;const s="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+s+"(/(.*))?$","i");function f(p){p.path_=decodeURIComponent(p.path)}const T=n.replace(/[.]/g,"\\."),u=[{regex:c,indices:{bucket:1,path:3},postModify:function i(p){"/"===p.path.charAt(p.path.length-1)&&(p.path_=p.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:f},{regex:new RegExp(`^https?://${n===Rt?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:f}];for(let p=0;p<u.length;p++){const P=u[p],S=P.regex.exec(t);if(S){let E=S[P.indices.path];E||(E=""),o=new U(S[P.indices.bucket],E),P.postModify(o);break}}if(null==o)throw function Uo(e){return new M("invalid-url","Invalid URL '"+e+"'.")}(t);return o}}class No{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function be(e){return"string"==typeof e||e instanceof String}function Dt(e){return We()&&e instanceof Blob}function We(){return typeof Blob<"u"&&!(0,G.UG)()}function qe(e,t,n,o){if(o<t)throw ae(`Invalid value for '${e}'. Expected ${t} or greater.`);if(o>n)throw ae(`Invalid value for '${e}'. Expected ${n} or less.`)}function z(e,t,n){let o=t;return null==n&&(o=`https://${t}`),`${n}://${o}/v0${e}`}function Nt(e){const t=encodeURIComponent;let n="?";for(const o in e)e.hasOwnProperty(o)&&(n=n+(t(o)+"=")+t(e[o])+"&");return n=n.slice(0,-1),n}var J=(()=>{return(e=J||(J={}))[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",J;var e})();function Bt(e,t){const n=e>=500&&e<600,s=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||s||i}class Ko{constructor(t,n,o,s,i,a,c,l,f,_,T,v=!0){this.url_=t,this.method_=n,this.headers_=o,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=T,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const n=(o,s)=>{const i=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());!function Ho(e){return void 0!==e}(l)?i():i(l)}catch(l){a(l)}else if(null!==c){const l=Ke();l.serverResponse=c.getErrorText(),a(this.errorCallback_?this.errorCallback_(c,l):l)}else a(s.canceled?this.appDelete_?It():Ut():Et())};this.canceled_?n(0,new xe(!1,null,!0)):this.backoffId_=function Bo(e,t,n){let o=1,s=null,i=null,a=!1,c=0;function l(){return 2===c}let f=!1;function _(...m){f||(f=!0,t.apply(null,m))}function T(m){s=setTimeout(()=>{s=null,e(b,l())},m)}function v(){i&&clearTimeout(i)}function b(m,...g){if(f)return void v();if(m)return v(),void _.call(null,m,...g);if(l()||a)return v(),void _.call(null,m,...g);let u;o<64&&(o*=2),1===c?(c=2,u=0):u=1e3*(o+Math.random()),T(u)}let w=!1;function R(m){w||(w=!0,v(),!f&&(null!==s?(m||(c=2),clearTimeout(s),T(0)):m||(c=1)))}return T(0),i=setTimeout(()=>{a=!0,R(!0)},n),R}((o,s)=>{if(s)return void o(!1,new xe(!1,null,!0));const i=this.connectionFactory_();this.pendingConnection_=i;const a=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const c=i.getErrorCode()===J.NO_ERROR,l=i.getStatus();if((!c||Bt(l,this.additionalRetryCodes_))&&this.retry){const _=i.getErrorCode()===J.ABORT;return void o(!1,new xe(!1,null,_))}const f=-1!==this.successCodes_.indexOf(l);o(!0,new xe(f,i))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Go(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xe{constructor(t,n,o){this.wasSuccessCode=t,this.connection=n,this.canceled=!!o}}function Jo(...e){const t=function Xo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const n=new t;for(let o=0;o<e.length;o++)n.append(e[o]);return n.getBlob()}if(We())return new Blob(e);throw new M("unsupported-environment","This browser doesn't seem to support creating Blobs")}const B={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ze{constructor(t,n){this.data=t,this.contentType=n||null}}function je(e,t){switch(e){case B.RAW:return new ze(Gt(t));case B.BASE64:case B.BASE64URL:return new ze(Ht(e,t));case B.DATA_URL:return new ze(function tr(e){const t=new $t(e);return t.base64?Ht(B.BASE64,t.rest):function er(e){let t;try{t=decodeURIComponent(e)}catch{throw fe(B.DATA_URL,"Malformed data URL.")}return Gt(t)}(t.rest)}(t),function nr(e){return new $t(e).contentType}(t))}throw Ke()}function Gt(e){const t=[];for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<=127?t.push(o):o<=2047?t.push(192|o>>6,128|63&o):55296==(64512&o)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(o=65536|(1023&o)<<10|1023&e.charCodeAt(++n),t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o)):t.push(239,191,189):56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function Ht(e,t){switch(e){case B.BASE64:{const s=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(s||i)throw fe(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case B.BASE64URL:{const s=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(s||i)throw fe(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Vo(e){return atob(e)}(t)}catch{throw fe(e,"Invalid character found")}const o=new Uint8Array(n.length);for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);return o}class $t{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(null===n)throw fe(B.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=n[1]||null;null!=o&&(this.base64=function or(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}class Z{constructor(t,n){let o=0,s="";Dt(t)?(this.data_=t,o=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(Dt(this.data_)){const s=function Qo(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===s?null:new Z(s)}{const o=new Uint8Array(this.data_.buffer,t,n-t);return new Z(o,!0)}}static getBlob(...t){if(We()){const n=t.map(o=>o instanceof Z?o.data_:o);return new Z(Jo.apply(null,n))}{const n=t.map(a=>be(a)?je(B.RAW,a).data:a.data_);let o=0;n.forEach(a=>{o+=a.byteLength});const s=new Uint8Array(o);let i=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)s[i++]=a[c]}),new Z(s,!0)}}uploadData(){return this.data_}}function Ye(e){let t;try{t=JSON.parse(e)}catch{return null}return function Zo(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function Zt(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ir(e,t){return t}class L{constructor(t,n,o,s){this.server=t,this.local=n||t,this.writable=!!o,this.xform=s||ir}}let Ce=null;function me(){if(Ce)return Ce;const e=[];e.push(new L("bucket")),e.push(new L("generation")),e.push(new L("metageneration")),e.push(new L("name","fullPath",!0));const n=new L("name");n.xform=function t(i,a){return function ar(e){return!be(e)||e.length<2?e:Zt(e)}(a)},e.push(n);const s=new L("size");return s.xform=function o(i,a){return void 0!==a?Number(a):a},e.push(s),e.push(new L("timeCreated")),e.push(new L("updated")),e.push(new L("md5Hash",null,!0)),e.push(new L("cacheControl",null,!0)),e.push(new L("contentDisposition",null,!0)),e.push(new L("contentEncoding",null,!0)),e.push(new L("contentLanguage",null,!0)),e.push(new L("contentType",null,!0)),e.push(new L("metadata","customMetadata",!0)),Ce=e,Ce}function Kt(e,t,n){const o=Ye(t);return null===o?null:function cr(e,t,n){const o={type:"file"},s=n.length;for(let i=0;i<s;i++){const a=n[i];o[a.local]=a.xform(o,t[a.server])}return function lr(e,t){Object.defineProperty(e,"ref",{get:function n(){const i=new U(e.bucket,e.fullPath);return t._makeStorageReference(i)}})}(o,e),o}(e,o,n)}function Xe(e,t){const n={},o=t.length;for(let s=0;s<o;s++){const i=t[s];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}const Wt="prefixes";class K{constructor(t,n,o,s){this.url=t,this.method=n,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function W(e){if(!e)throw Ke()}function Oe(e,t){return function n(o,s){const i=Kt(e,s,t);return W(null!==i),i}}function le(e){return function t(n,o){let s;return s=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function Ao(){return new M("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ro(){return new M("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function Mo(e){return new M("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===n.getStatus()?function Eo(e){return new M("unauthorized","User does not have permission to access '"+e+"'.")}(e.path):o,s.status=n.getStatus(),s.serverResponse=o.serverResponse,s}}function _e(e){const t=le(e);return function n(o,s){let i=t(o,s);return 404===o.getStatus()&&(i=function Oo(e){return new M("object-not-found","Object '"+e+"' does not exist.")}(e.path)),i.serverResponse=s.serverResponse,i}}function zt(e,t,n){const s=z(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new K(s,"GET",Oe(e,n),a);return c.errorHandler=_e(t),c}function gr(e,t,n,o,s){const i={};i.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(i.delimiter=n),o&&(i.pageToken=o),s&&(i.maxResults=s);const c=z(t.bucketOnlyServerUrl(),e.host,e._protocol),f=e.maxOperationRetryTime,_=new K(c,"GET",function pr(e,t){return function n(o,s){const i=function hr(e,t,n){const o=Ye(n);return null===o?null:function dr(e,t,n){const o={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Wt])for(const s of n[Wt]){const i=s.replace(/\/$/,""),a=e._makeStorageReference(new U(t,i));o.prefixes.push(a)}if(n.items)for(const s of n.items){const i=e._makeStorageReference(new U(t,s.name));o.items.push(i)}return o}(e,t,o)}(e,t,s);return W(null!==i),i}}(e,t.bucket),f);return _.urlParams=i,_.errorHandler=le(t),_}function Yt(e,t,n){const o=Object.assign({},n);return o.fullPath=e.path,o.size=t.size(),o.contentType||(o.contentType=function kr(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),o}class Me{constructor(t,n,o,s){this.current=t,this.total=n,this.finalized=!!o,this.metadata=s||null}}function Je(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{W(!1)}return W(!!n&&-1!==(t||["active"]).indexOf(n)),n}const vr={STATE_CHANGED:"state_changed"},I={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qe(e){switch(e){case"running":case"pausing":case"canceling":return I.RUNNING;case"paused":return I.PAUSED;case"success":return I.SUCCESS;case"canceled":return I.CANCELED;default:return I.ERROR}}class wr{constructor(t,n,o){if(function $o(e){return"function"==typeof e}(t)||null!=n||null!=o)this.next=t,this.error=n??void 0,this.complete=o??void 0;else{const i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}}function ce(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class xr extends class br{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=J.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=J.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=J.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,o,s){if(this.sent_)throw ge("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),void 0!==s)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ge("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ge("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ge("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ge("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function H(){return new xr}class Vt{constructor(t,n,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=o,this._mappings=me(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(Bt(s.status,[])){if(!i)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=Et()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return n=>this._updateProgress(t+n)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,o])=>{switch(this._state){case"running":t(n,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,n)=>{const o=function Pr(e,t,n,o,s){const i=t.bucketOnlyServerUrl(),a=Yt(t,o,s),c={name:a.fullPath},l=z(i,e.host,e._protocol),_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},T=Xe(a,n),w=new K(l,"POST",function b(R){let m;Je(R);try{m=R.getResponseHeader("X-Goog-Upload-URL")}catch{W(!1)}return W(be(m)),m},e.maxUploadRetryTime);return w.urlParams=c,w.headers=_,w.body=T,w.errorHandler=le(t),w}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(o,H,t,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((n,o)=>{const s=function Sr(e,t,n,o){const l=new K(n,"POST",function i(f){const _=Je(f,["active","final"]);let T=null;try{T=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{W(!1)}T||W(!1);const v=Number(T);return W(!isNaN(v)),new Me(v,o.size(),"final"===_)},e.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=le(t),l}(this._ref.storage,this._ref._location,t,this._blob),i=this._ref.storage._makeRequest(s,H,n,o);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,n=new Me(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((s,i)=>{let a;try{a=function Tr(e,t,n,o,s,i,a,c){const l=new Me(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=o.size()),o.size()!==l.total)throw function Fo(){return new M("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const f=l.total-l.current;let _=f;s>0&&(_=Math.min(_,s));const T=l.current;let b="";b=0===_?"finalize":f===_?"upload, finalize":"upload";const w={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":`${l.current}`},R=o.slice(T,T+_);if(null===R)throw Lt();const u=new K(n,"POST",function m(p,P){const S=Je(p,["active","final"]),O=l.current+_,E=o.size();let $;return $="final"===S?Oe(t,i)(p,P):null,new Me(O,E,"final"===S,$)},t.maxUploadRetryTime);return u.headers=w,u.body=R.uploadData(),u.progressCallback=c||null,u.errorHandler=le(e),u}(this._ref._location,this._ref.storage,o,this._blob,t,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const c=this._ref.storage._makeRequest(a,H,s,i,!1);this._request=c,c.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,n)=>{const o=zt(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(o,H,t,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,n)=>{const o=function Xt(e,t,n,o,s){const i=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},l=function c(){let u="";for(let p=0;p<2;p++)u+=Math.random().toString().slice(2);return u}();a["Content-Type"]="multipart/related; boundary="+l;const f=Yt(t,o,s),_=Xe(f,n),b=Z.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+_+"\r\n--"+l+"\r\nContent-Type: "+f.contentType+"\r\n\r\n",o,"\r\n--"+l+"--");if(null===b)throw Lt();const w={name:f.fullPath},R=z(i,e.host,e._protocol),g=e.maxUploadRetryTime,h=new K(R,"POST",Oe(e,n),g);return h.urlParams=w,h.headers=a,h.body=b.uploadData(),h.errorHandler=le(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(o,H,t,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Ut(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Qe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,n,o,s){const i=new wr(n||void 0,o||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(t,n){return this._promise.then(t,n)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const n=this._observers.indexOf(t);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Qe(this._state)){case I.SUCCESS:ce(this._resolve.bind(null,this.snapshot))();break;case I.CANCELED:case I.ERROR:ce(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Qe(this._state)){case I.RUNNING:case I.PAUSED:t.next&&ce(t.next.bind(t,this.snapshot))();break;case I.SUCCESS:t.complete&&ce(t.complete.bind(t))();break;default:t.error&&ce(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class te{constructor(t,n){this._service=t,this._location=n instanceof U?n:U.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new te(t,n)}get root(){const t=new U(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zt(this._location.path)}get storage(){return this._service}get parent(){const t=function rr(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;const n=new U(this._location.bucket,t);return new te(this._service,n)}_throwIfRoot(t){if(""===this._location.path)throw Ft(t)}}function tn(e,t,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,ve.Z)(function*(e,t,n){const s=yield nn(e,{pageToken:n});t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&(yield tn(e,t,s.nextPageToken))})).apply(this,arguments)}function nn(e,t){null!=t&&"number"==typeof t.maxResults&&qe("options.maxResults",1,1e3,t.maxResults);const n=t||{},o=gr(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(o,H)}function Nr(e){e._throwIfRoot("getDownloadURL");const t=function mr(e,t,n){const s=z(t.fullServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new K(s,"GET",function fr(e,t){return function n(o,s){const i=Kt(e,s,t);return W(null!==i),function ur(e,t,n,o){const s=Ye(t);if(null===s||!be(s.downloadTokens))return null;const i=s.downloadTokens;if(0===i.length)return null;const a=encodeURIComponent;return i.split(",").map(f=>{const T=e.fullPath;return z("/b/"+a(e.bucket)+"/o/"+a(T),n,o)+Nt({alt:"media",token:f})})[0]}(i,s,e.host,e._protocol)}}(e,n),a);return c.errorHandler=_e(t),c}(e.storage,e._location,me());return e.storage.makeRequestWithTokens(t,H).then(n=>{if(null===n)throw function Do(){return new M("no-download-url","The given file does not have any download URLs.")}();return n})}function on(e,t){const n=function sr(e,t){const n=t.split("/").filter(o=>o.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),o=new U(e._location.bucket,n);return new te(e.storage,o)}function rn(e,t){if(e instanceof et){const n=e;if(null==n._bucket)throw function Io(){return new M("no-default-bucket","No default bucket found. Did you set the '"+At+"' property when initializing the app?")}();const o=new te(n,n._bucket);return null!=t?rn(o,t):o}return void 0!==t?on(e,t):e}function $r(e,t){if(t&&function Gr(e){return/^[A-Za-z]+:\/\//.test(e)}(t)){if(e instanceof et)return function Hr(e,t){return new te(e,t)}(e,t);throw ae("To use ref(service, url), the first argument must be a Storage instance.")}return rn(e,t)}function sn(e,t){const n=t?.[At];return null==n?null:U.makeFromBucketSpec(n,e)}class et{constructor(t,n,o,s,i){this.app=t,this._authProvider=n,this._appCheckProvider=o,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Rt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?U.makeFromBucketSpec(s,this._host):sn(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?U.makeFromBucketSpec(this._url,t):sn(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qe("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qe("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,ve.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const n=t._authProvider.getImmediate({optional:!0});if(n){const o=yield n.getToken();if(null!==o)return o.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,ve.Z)(function*(){const n=t._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new te(this,t)}_makeRequest(t,n,o,s,i=!0){if(this._deleted)return new No(It());{const a=function Yo(e,t,n,o,s,i,a=!0){const c=Nt(e.urlParams),l=e.url+c,f=Object.assign({},e.headers);return function zo(e,t){t&&(e["X-Firebase-GMPID"]=t)}(f,t),function Wo(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(f,n),function qo(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,i),function jo(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(f,o),new Ko(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}(t,this._appId,o,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,n){var o=this;return(0,ve.Z)(function*(){const[s,i]=yield Promise.all([o._getAuthToken(),o._getAppCheckToken()]);return o._makeRequest(t,n,s,i).getPromise()})()}}const an="@firebase/storage";function un(e,t){return $r(e=(0,G.m9)(e),t)}function Qr(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new et(n,o,s,t,we.SDK_VERSION)}!function Vr(){(0,we._registerComponent)(new Mt.wA("storage",Qr,"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(an,"0.9.13",""),(0,we.registerVersion)(an,"0.9.13","esm2017")}();class Re{constructor(t,n,o){this._delegate=t,this.task=n,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class hn{constructor(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Re(this._delegate.snapshot,this,this._ref)}then(t,n){return this._delegate.then(o=>{if(t)return t(new Re(o,this,this._ref))},n)}on(t,n,o,s){let i;return n&&(i="function"==typeof n?a=>n(new Re(a,this,this._ref)):{next:n.next?a=>n.next(new Re(a,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,i,o||void 0,s||void 0)}}class pn{constructor(t,n){this._delegate=t,this._service=n}get prefixes(){return this._delegate.prefixes.map(t=>new j(t,this._service))}get items(){return this._delegate.items.map(t=>new j(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class j{constructor(t,n){this._delegate=t,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const n=function Jr(e,t){return on(e,t)}(this._delegate,t);return new j(n,this.storage)}get root(){return new j(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new j(t,this.storage)}put(t,n){return this._throwIfRoot("put"),new hn(function Kr(e,t,n){return function Ur(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Vt(e,new Z(t),n)}(e=(0,G.m9)(e),t,n)}(this._delegate,t,n),this)}putString(t,n=B.RAW,o){this._throwIfRoot("putString");const s=je(n,t),i=Object.assign({},o);return null==i.contentType&&null!=s.contentType&&(i.contentType=s.contentType),new hn(new Vt(this._delegate,new Z(s.data,!0),i),this)}listAll(){return function jr(e){return function Ir(e){const t={prefixes:[],items:[]};return tn(e,t).then(()=>t)}(e=(0,G.m9)(e))}(this._delegate).then(t=>new pn(t,this.storage))}list(t){return function zr(e,t){return nn(e=(0,G.m9)(e),t)}(this._delegate,t||void 0).then(n=>new pn(n,this.storage))}getMetadata(){return function Wr(e){return function Fr(e){e._throwIfRoot("getMetadata");const t=zt(e.storage,e._location,me());return e.storage.makeRequestWithTokens(t,H)}(e=(0,G.m9)(e))}(this._delegate)}updateMetadata(t){return function qr(e,t){return function Dr(e,t){e._throwIfRoot("updateMetadata");const n=function _r(e,t,n,o){const i=z(t.fullServerUrl(),e.host,e._protocol),c=Xe(n,o),f=e.maxOperationRetryTime,_=new K(i,"PATCH",Oe(e,o),f);return _.headers={"Content-Type":"application/json; charset=utf-8"},_.body=c,_.errorHandler=_e(t),_}(e.storage,e._location,t,me());return e.storage.makeRequestWithTokens(n,H)}(e=(0,G.m9)(e),t)}(this._delegate,t)}getDownloadURL(){return function Yr(e){return Nr(e=(0,G.m9)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Xr(e){return function Br(e){e._throwIfRoot("deleteObject");const t=function yr(e,t){const o=z(t.fullServerUrl(),e.host,e._protocol),c=new K(o,"DELETE",function a(l,f){},e.maxOperationRetryTime);return c.successCodes=[200,204],c.errorHandler=_e(t),c}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,H)}(e=(0,G.m9)(e))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw Ft(t)}}class fn{constructor(t,n){this.app=t,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(gn(t))throw ae("ref() expected a child path but got a URL, use refFromURL instead.");return new j(un(this._delegate,t),this)}refFromURL(t){if(!gn(t))throw ae("refFromURL() expected a full URL but got a child path, use ref() instead.");try{U.makeFromUrl(t,this._delegate.host)}catch{throw ae("refFromUrl() expected a valid full URL but got an invalid one.")}return new j(un(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,n,o={}){!function dn(e,t,n,o={}){!function Zr(e,t,n,o={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=o;s&&(e._overrideAuthToken="string"==typeof s?s:(0,G.Sg)(s,e.app.options.projectId))}(e,t,n,o)}(this._delegate,t,n,o)}}function gn(e){return/^[A-Za-z]+:\/\//.test(e)}function os(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),o=e.getProvider("storage").getImmediate({identifier:t});return new fn(n,o)}!function rs(e){const t={TaskState:I,TaskEvent:vr,StringFormat:B,Storage:fn,Reference:j};e.INTERNAL.registerComponent(new Mt.wA("storage-compat",os,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.21")}(wo.Z);var ss=y(7128);function mn(e){const t=function is(e){return new To.y(t=>{const n=a=>t.next(a);n(e.snapshot);const i=e.on("state_changed",n);return e.then(a=>{n(a),t.complete()},a=>{n(e.snapshot),(a=>{t.error(a)})(a)}),function(){i()}}).pipe((0,vo.b)(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,A.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function Ae(e){return{getDownloadURL:()=>(0,se.of)(void 0).pipe(pe.fc,(0,ie.w)(()=>e.getDownloadURL()),pe.iC),getMetadata:()=>(0,se.of)(void 0).pipe(pe.fc,(0,ie.w)(()=>e.getMetadata()),pe.iC),delete:()=>(0,Se.D)(e.delete()),child:t=>Ae(e.child(t)),updateMetadata:t=>(0,Se.D)(e.updateMetadata(t)),put:(t,n)=>mn(e.put(t,n)),putString:(t,n,o)=>mn(e.putString(t,n,o)),list:t=>(0,Se.D)(e.list(t)),listAll:()=>(0,Se.D)(e.listAll())}}y(127);const as=new r.OlP("angularfire2.storageBucket"),ls=new r.OlP("angularfire2.storage.maxUploadRetryTime"),cs=new r.OlP("angularfire2.storage.maxOperationRetryTime"),us=new r.OlP("angularfire2.storage.use-emulator");let ds=(()=>{class e{constructor(n,o,s,i,a,c,l,f,_,T){const v=(0,Te.on)(n,a,o);this.storage=(0,Te.cc)(`${v.name}.storage.${s}`,"AngularFireStorage",v.name,()=>{const b=a.runOutsideAngular(()=>v.storage(s||void 0)),w=_;return w&&b.useEmulator(...w),l&&b.setMaxUploadRetryTime(l),f&&b.setMaxOperationRetryTime(f),b},[l,f])}ref(n){return Ae(this.storage.ref(n))}refFromURL(n){return Ae(this.storage.refFromURL(n))}upload(n,o,s){return Ae(this.storage.ref(n)).put(o,s)}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(Te.Dh),r.LFG(Te.xv,8),r.LFG(as,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(pe.HU),r.LFG(ls,8),r.LFG(cs,8),r.LFG(us,8),r.LFG(ss.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),hs=(()=>{class e{constructor(n,o){this.firestore=n,this.storage=o}createDocument(n,o){const s=(0,N.JU)(this.firestore,"pokemondb/"+o);return(0,N.pl)(s,n)}updateDocument(n){if(n){const o=(0,N.JU)(this.firestore,"pokemondb/");return(0,N.r7)(o,n)}return Promise.resolve()}addDocumentToCollection(n,o){const s=(0,N.JU)((0,N.hJ)(this.firestore,"pokemondb/"+o)),i=s.id,a={...n,id:i};return{operationObs:(0,N.pl)(s,a),id:i}}getDocument(n){const o=(0,N.JU)(this.firestore,"pokemondb/"+n);return(0,N.KO)(o).pipe((0,$e.q)(1),(0,A.U)(s=>s.data()),(0,re.K)(s=>(console.error(s),(0,He._)(()=>{const i=new Error(s);return i.timestamp=Date.now(),i}))))}getDataByCollectionName(n){const o=(0,N.hJ)(this.firestore,"pokemondb/");return(0,N.$k)(o).pipe((0,$e.q)(1),(0,re.K)(s=>(console.error(s),(0,He._)(()=>{const i=new Error(s);return i.timestamp=Date.now(),i}))),(0,A.U)(s=>s.map(i=>{const a=i.data();return{id:i.id,...a}})))}getCollection(n){const o=(0,N.hJ)(this.firestore,"pokemondb/"+n);return(0,N.$k)(o).pipe((0,$e.q)(1),(0,re.K)(s=>(console.error(s),(0,He._)(()=>{const i=new Error(s);return i.timestamp=Date.now(),i}))),(0,A.U)(s=>s.map(i=>({...i.data()}))))}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(N.gg),r.LFG(ds))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _n="https://pokeapi.co/api/v2/pokemon";let Q=(()=>{class e{constructor(n,o,s){this.httpService=n,this.store=o,this.rs=s,this.pagination$=this.store.select(vt),this.actionBarActions$=this.store.select(yo),this.pokemonList$=this.store.select(Tt),this.pokemonListLoading$=this.store.select(uo),this.pokemonListFirstLoading$=this.store.select(co),this.allPaginationData$=this.store.select(vt),this.pokemonDetailLoading$=this.store.select(ko),this.selectedPokemon$=this.store.select(Po),this.pokemonListEndReached$=this.store.select(ho),this.pokemonListWithFavorite$=this.store.select(po)}getPokemonShells(n,o){let s=new In.LE,i=_n;return o?i=o:(s=s.set("offset",(n??0)*V),s=s.set("limit",V)),this.httpService.get(i,s)}getPokemon(n){return this.httpService.get(`${_n}/${n}`).pipe()}setPokemonFavorite(n){const s={...n,dateFavorited:(new Date).getTime()};return this.rs.addDocumentToCollection(s,"test-user/favorite-pokemon-shells")}getPokemonFavorites(){return this.rs.getCollection("test-user/favorite-pokemon-shells")}fetchPokemonShells(n,o){this.store.dispatch(ye({page:n,scrollPosition:o}))}resetPokemonDetailProp(){this.store.dispatch(dt())}pokemonFavorite(n){this.store.dispatch(gt({pokemon:n}))}fetchPokemonFavorites(){this.store.dispatch(ke())}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(Ot.O),r.LFG(d.yh),r.LFG(hs))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=y(1576),tt=y(4859),yn=y(7392);function ps(e,t){if(1&e){const n=r.EpF();r.ynx(0),r.TgZ(1,"button",3),r.NdJ("click",function(){const i=r.CHM(n).$implicit,a=r.oxw();return r.KtG(a.onActionClick(i))}),r.TgZ(2,"mat-icon"),r._uU(3),r.qZA(),r.TgZ(4,"span"),r._uU(5),r.qZA()(),r.BQk()}if(2&e){const n=t.$implicit;r.xp6(3),r.hij("",n.icon," "),r.xp6(2),r.Oqu(n.display)}}const fs=["*"];let gs=(()=>{class e{constructor(){this.actions=[]}ngOnInit(){}onActionClick(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["shared-action-bar"]],inputs:{actions:"actions"},ngContentSelectors:fs,decls:5,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center","id","app-dashboard-action-bar",1,""],[1,""],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"]],template:function(n,o){1&n&&(r.F$t(),r.TgZ(0,"section",0)(1,"div",1),r.YNc(2,ps,6,2,"ng-container",2),r.qZA(),r.TgZ(3,"div"),r.Hsn(4),r.qZA()()),2&n&&(r.xp6(2),r.Q6J("ngForOf",o.actions))},dependencies:[D.sg,tt.lW,yn.Hw,F.xw,F.Wh],styles:["button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]}),e})();function ms(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",8)(2,"div"),r._uU(3),r.qZA(),r.TgZ(4,"div"),r._uU(5," | "),r.qZA(),r.TgZ(6,"div"),r._uU(7),r.qZA()(),r.BQk()),2&e){const n=t.ngIf;r.xp6(3),r.AsE(" page ",n.currentPage," / ",n.pages," "),r.xp6(4),r.hij(" total: ",n.totalCount," ")}}function _s(e,t){if(1&e&&(r.ynx(0),r.YNc(1,ms,8,3,"ng-container",7),r.ALo(2,"async"),r.BQk()),2&e){const n=r.oxw();r.xp6(1),r.Q6J("ngIf",r.lcZ(2,1,n.ps.allPaginationData$))}}function ys(e,t){1&e&&(r.TgZ(0,"button",9),r._uU(1,"Show pagination data"),r.qZA())}let ks=(()=>{class e{constructor(n){this.ps=n}ngOnInit(){}onActivate(n){"pokemonDetails"===n.compId||"pokemonList"===n.compId&&this.ps.selectedPokemon$.pipe((0,Le.b)(o=>{o?.name&&setTimeout(()=>{(0,lt.H5)(o.name,5,"center")},5)})).subscribe()}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(Q))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-main"]],decls:15,vars:8,consts:[[1,"container-fluid","mb-5"],[1,"sticky-top","dashboard"],[3,"actions"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px",1,"page-data"],[4,"ngIf","ngIfElse"],[3,"activate"],["showBtn",""],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px"],["mat-button","","color","primary"]],template:function(n,o){if(1&n&&(r.TgZ(0,"div",0)(1,"div",1)(2,"shared-action-bar",2),r.ALo(3,"async"),r.TgZ(4,"div",3)(5,"div"),r._uU(6),r.ALo(7,"async"),r.qZA(),r.TgZ(8,"div"),r._uU(9," | "),r.qZA(),r.TgZ(10,"div"),r.YNc(11,_s,3,3,"ng-container",4),r.qZA()()()(),r.TgZ(12,"router-outlet",5),r.NdJ("activate",function(i){return o.onActivate(i)}),r.qZA()(),r.YNc(13,ys,2,0,"ng-template",null,6,r.W1O)),2&n){const s=r.MAs(14);r.xp6(2),r.Q6J("actions",r.lcZ(3,4,o.ps.actionBarActions$)),r.xp6(4),r.hij(" ",r.lcZ(7,6,o.ps.pokemonListLoading$)?"Loading...":""," "),r.xp6(5),r.Q6J("ngIf",!0)("ngIfElse",s)}},dependencies:[D.O5,F.xw,F.SQ,F.Wh,tt.lW,gs,de.lC,D.Ov],styles:[".sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee;width:100%;margin-bottom:15px}"]}),e})();var nt=y(7579);let ot=(()=>{class e{constructor(){this.wholePage=!1,this.loading=!0,this.logoShakeState=!1,this.compDest$=new nt.x}ngOnChanges(n){this.parentClass=this.wholePage?"whole-page loading-container":"container loading-container mt-5"}ngOnInit(){}ngOnDestroy(){this.compDest$.next(null),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-shared-loading"]],inputs:{wholePage:"wholePage",message:"message"},features:[r.TTD],decls:12,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"w-100"],[1,""],[1,"loading-logo"],["src","assets/img/poke-logo.png","alt","logo",1,"logo-img","d-inline-block"],[1,"loading-parent"],[1,"lds-facebook"],[1,"secfont"]],template:function(n,o){1&n&&(r.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),r._UZ(4,"img",3),r.qZA()(),r.TgZ(5,"div",4)(6,"div",5),r._UZ(7,"div")(8,"div")(9,"div"),r.qZA()(),r.TgZ(10,"div",6),r._uU(11),r.qZA()()()),2&n&&(r.Tol(o.parentClass),r.xp6(11),r.hij(" Loading ",o.message," ... "))},dependencies:[F.xw,F.Wh],styles:[".loading-logo[_ngcontent-%COMP%]{height:3rem}.loading-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.loading-parent[_ngcontent-%COMP%]{justify-content:center;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.whole-page[_ngcontent-%COMP%]{position:fixed;width:100%}.lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background:#007bff;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;animation-delay:0}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),e})();var rt=y(5829),kn=y(6338),Ps=y(4968),Pn=y(5577),Ee=y(9300),Ss=y(4986),Ts=y(4482),Sn=y(5403),vs=y(8421);const Tn={leading:!0,trailing:!1};var bs=y(2805);function Cs(e,t,n,o){const s=window&&!!window.document&&window.document.documentElement;let i=s&&t?window:n;if(e&&(i=e&&s&&"string"==typeof e?function Os(e,t,n){return(n?window.document:t).querySelector(e)}(e,n.nativeElement,o):e,!i))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return i}function st(e){return e&&!e.firstChange}const Rs={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},As={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class Es{constructor(t=!0){this.vertical=t,this.propsMap=t?Rs:As}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Fs(e){return["Window","global"].some(n=>Object.prototype.toString.call(e).includes(n))}function it(e,t){return e?t.document.documentElement:null}function vn(e,t){const n=function Bs({container:e,isWindow:t,axis:n}){const{offsetHeightKey:o,clientHeightKey:s}=wn(n);return bn(e,t,o,s)}(t);return t.isWindow?function Ds(e,t,n){const{axis:o,container:s,isWindow:i}=n,{offsetHeightKey:a,clientHeightKey:c}=wn(o),l=e+xn(it(i,s),o,i),f=bn(t.nativeElement,i,a,c),_=function Gs(e,t,n){const o=t.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[o]+xn(e,t,n)}(t.nativeElement,o,i)+f;return{height:e,scrolled:l,totalToScroll:_,isWindow:i}}(n,e,t):function Ns(e,t,n){const{axis:o,container:s}=n;return{height:e,scrolled:s[o.scrollTopKey()],totalToScroll:s[o.scrollHeightKey()],isWindow:!1}}(n,0,t)}function wn(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function bn(e,t,n,o){if(isNaN(e[n])){const s=it(t,e);return s?s[o]:0}return e[n]}function xn(e,t,n){const o=t.pageYOffsetKey(),s=t.scrollTopKey(),i=t.offsetTopKey();return isNaN(window.pageYOffset)?it(n,e)[s]:e.ownerDocument?e.ownerDocument.defaultView[o]:e[i]}function Hs(e,t={down:0,up:0},n){let o,s;if(e.totalToScroll<=0)return!1;const i=e.isWindow?e.scrolled:e.height+e.scrolled;return n?(o=(e.totalToScroll-i)/e.totalToScroll,s=(t?.down?t.down:0)/10):(o=e.scrolled/(e.scrolled+(e.totalToScroll-i)),s=(t?.up?t.up:0)/10),o<=s}class qs{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,n){this.updateScrollPosition(t),this.updateTotalToScroll(n)}updateTriggeredFlag(t,n){n?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,n){return n?this.triggered.down===t:this.triggered.up===t}}function zs(e){const{scrollContainer:t,scrollWindow:n,element:o,fromRoot:s}=e,i=function Ls({windowElement:e,axis:t}){return function Is(e,t){const n=e.isWindow||t&&!t.nativeElement?t:t.nativeElement;return{...e,container:n}}({axis:t,isWindow:Fs(e)},e)}({axis:new Es(!e.horizontal),windowElement:Cs(t,n,o,s)}),a=new qs({totalToScroll:vn(o,i)}),l={up:e.upDistance,down:e.downDistance};return function js(e){let t=(0,Ps.R)(e.container,"scroll");return e.throttle&&(t=t.pipe(function xs(e,t=Ss.z,n=Tn){const o=(0,bs.H)(e,t);return function ws(e,t=Tn){return(0,Ts.e)((n,o)=>{const{leading:s,trailing:i}=t;let a=!1,c=null,l=null,f=!1;const _=()=>{l?.unsubscribe(),l=null,i&&(b(),f&&o.complete())},T=()=>{l=null,f&&o.complete()},v=w=>l=(0,vs.Xf)(e(w)).subscribe((0,Sn.x)(o,_,T)),b=()=>{if(a){a=!1;const w=c;c=null,o.next(w),!f&&v(w)}};n.subscribe((0,Sn.x)(o,w=>{a=!0,c=w,(!l||l.closed)&&(s?b():v(w))},()=>{f=!0,(!(i&&a&&l)||l.closed)&&o.complete()}))})}(()=>o,n)}(e.throttle,void 0,{leading:!0,trailing:!0}))),t}({container:i.container,throttle:e.throttle}).pipe((0,Pn.z)(()=>(0,se.of)(vn(o,i))),(0,A.U)(f=>function Ys(e,t,n){const{scrollDown:o,fire:s}=function Zs(e,t,n){const o=function $s(e,t){return e<t.scrolled}(e,t);return{fire:Hs(t,n,o),scrollDown:o}}(e,t,n);return{scrollDown:o,fire:s,stats:t}}(a.lastScrollPosition,f,l)),(0,Le.b)(({stats:f})=>a.updateScroll(f.scrolled,f.totalToScroll)),(0,Ee.h)(({fire:f,scrollDown:_,stats:{totalToScroll:T}})=>function Us(e,t,n){return!!(e&&t||!n&&t)}(e.alwaysCallback,f,a.isTriggeredScroll(T,_))),(0,Le.b)(({scrollDown:f,stats:{totalToScroll:_}})=>{a.updateTriggeredFlag(_,f)}),(0,A.U)(Xs))}function Xs(e){const{scrollDown:t,stats:{scrolled:n}}=e;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:n}}}let Js=(()=>{class e{constructor(n,o){this.element=n,this.zone=o,this.scrolled=new r.vpe,this.scrolledUp=new r.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:n,infiniteScrollDisabled:o,infiniteScrollDistance:s}){const i=st(n),a=st(o),c=st(s),l=!a&&!this.infiniteScrollDisabled||a&&!o.currentValue||c;(i||a||c)&&(this.destroyScroller(),l&&this.setup())}setup(){(function Ms(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=zs({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(n=>this.zone.run(()=>this.handleOnScroll(n)))})}handleOnScroll({type:n,payload:o}){switch(n){case"[NGX_ISE] DOWN":return this.scrolled.emit(o);case"[NGX_ISE] UP":return this.scrolledUp.emit(o);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275dir=r.lG2({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[r.TTD]}),e})(),Qs=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const Vs=function(e){return{"last-selected":e,"poke-list-item":!0}},ei=function(){return{"w-100":!0}},ti=function(e){return["../",e]},ni=function(e){return{favorite:!0,favorited:e}};function oi(e,t){if(1&e){const n=r.EpF();r.ynx(0),r.TgZ(1,"mat-list-item",6),r.ALo(2,"async"),r.TgZ(3,"div",7)(4,"a",8)(5,"div",9),r._UZ(6,"img",10),r.qZA(),r.TgZ(7,"div",11),r._uU(8),r.ALo(9,"titlecase"),r.qZA()(),r.TgZ(10,"button",12),r.NdJ("click",function(){const i=r.CHM(n).$implicit,a=r.oxw(2);return r.KtG(a.onFavToggle(i))}),r.TgZ(11,"mat-icon",6),r._uU(12,"favorite"),r.qZA()()()(),r.BQk()}if(2&e){const n=t.$implicit,o=r.oxw(2);let s;r.xp6(1),r.Q6J("ngClass",r.VKq(12,Vs,(null==(s=r.lcZ(2,8,o.ps.selectedPokemon$))?null:s.name)===n.name)),r.xp6(2),r.Q6J("ngClass",r.DdM(14,ei)),r.xp6(1),r.Q6J("routerLink",r.VKq(15,ti,n.name)),r.xp6(2),r.Q6J("src","assets/img/pokeball.png",r.LSH),r.xp6(1),r.Q6J("id",n.name),r.xp6(1),r.AsE(" ",n.pokemonId," - ",r.lcZ(9,10,n.name)," "),r.xp6(3),r.Q6J("ngClass",r.VKq(17,ni,n.isFavorite))}}function ri(e,t){1&e&&(r.ynx(0),r._UZ(1,"app-shared-loading",13),r.BQk()),2&e&&(r.xp6(1),r.Q6J("message","Pokemons"))}function si(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"mat-list",3),r.YNc(2,oi,13,19,"ng-container",4),r.qZA(),r.YNc(3,ri,2,1,"ng-container",5),r.ALo(4,"async"),r.BQk()),2&e){const n=r.oxw();r.xp6(2),r.Q6J("ngForOf",n.list)("ngForTrackBy",n.trackByFn),r.xp6(1),r.Q6J("ngIf",r.lcZ(4,3,n.ps.pokemonListLoading$))}}function ii(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," No Pokemons found. "),r.qZA())}let ai=(()=>{class e{constructor(n){this.ps=n,this.scrollLoad=new r.vpe,this.scrollDisabled=!1}ngOnInit(){}showInfo(n){}onScrollDown(){this.scrollLoad.emit(Y.Next)}onFavToggle(n){console.log(n),this.ps.pokemonFavorite(n)}trackByFn(n,o){return o.name}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(Q))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-main-all-pokemon-list"]],inputs:{list:"list",scrollDisabled:"scrollDisabled"},outputs:{scrollLoad:"scrollLoad"},decls:4,vars:7,consts:[["infiniteScroll","","fxLayout","column","fxLayoutAlign","start center",1,"poke-list",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","infiniteScrollDisabled","scrolled"],[4,"ngIf","ngIfElse"],["noItems",""],["dense",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",3,"ngClass"],["fxLayout","row","fxLayoutAlign","center center",3,"routerLink"],[1,"logo","mr-2","d-flex"],[3,"src"],[1,"fs-14",3,"id"],["mat-icon-button","",3,"click"],[3,"message"]],template:function(n,o){if(1&n&&(r.TgZ(0,"div",0),r.NdJ("scrolled",function(){return o.onScrollDown()}),r.YNc(1,si,5,5,"ng-container",1),r.qZA(),r.YNc(2,ii,2,0,"ng-template",null,2,r.W1O)),2&n){const s=r.MAs(3);r.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",50)("infiniteScrollContainer",".content-parent")("fromRoot",!0)("infiniteScrollDisabled",o.scrollDisabled),r.xp6(1),r.Q6J("ngIf",o.list&&o.list.length>0)("ngIfElse",s)}},dependencies:[D.mk,D.sg,D.O5,F.xw,F.Wh,rt.oO,tt.lW,yn.Hw,kn.i$,kn.Tg,ot,Js,de.yS,D.Ov,D.rS],styles:["[_nghost-%COMP%]{width:100%}.poke-list[_ngcontent-%COMP%]   .mat-list-item.poke-list-item.last-selected[_ngcontent-%COMP%]{background-color:#eeeff9}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{width:20rem}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:1px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:23px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon.favorite[_ngcontent-%COMP%]{color:#f9eaea;cursor:pointer}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon.favorite[_ngcontent-%COMP%]:hover{color:#b14d4d}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon.favorited[_ngcontent-%COMP%]{color:#b14d4d;cursor:pointer}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000000de;height:39px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff;text-decoration:none}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background-color:#eeeff9}"],changeDetection:0}),e})();function li(e,t){if(1&e){const n=r.EpF();r.ynx(0),r.TgZ(1,"div",4)(2,"app-main-all-pokemon-list",5),r.NdJ("scrollLoad",function(s){r.CHM(n);const i=r.oxw();return r.KtG(i.onScroll(s))}),r.ALo(3,"async"),r.ALo(4,"async"),r.qZA()(),r.BQk()}if(2&e){const n=r.oxw();r.xp6(2),r.Q6J("list",r.lcZ(3,2,n.ps.pokemonList$))("scrollDisabled",!!r.lcZ(4,4,n.ps.pokemonListEndReached$))}}function ci(e,t){1&e&&(r.TgZ(0,"div",6),r._UZ(1,"app-shared-loading"),r.qZA())}let ui=(()=>{class e{constructor(n){this.ps=n,this.compId="pokemonList",this.title="Directory",this.scrollPosition=Y,this.actionBtns=[],this.showPageData=!1}ngOnInit(){}navPage(n){this.ps.fetchPokemonShells(void 0,n)}onScroll(n){this.navPage(Y.Next)}togglePageData(){this.showPageData=!this.showPageData}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(Q))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-main-all"]],decls:7,vars:5,consts:[["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","15px",1,"main"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"w-100","p-title"],[4,"ngIf","ngIfElse"],["firstTimeLoadMask",""],["fxLayout","row","fxLayoutAlign","start start",1,"w-100"],[3,"list","scrollDisabled","scrollLoad"],[1,"my-5"]],template:function(n,o){if(1&n&&(r.TgZ(0,"div",0)(1,"div",1),r._uU(2),r.qZA(),r.YNc(3,li,5,6,"ng-container",2),r.ALo(4,"async"),r.qZA(),r.YNc(5,ci,2,0,"ng-template",null,3,r.W1O)),2&n){const s=r.MAs(6);r.xp6(2),r.hij(" ",o.title," "),r.xp6(1),r.Q6J("ngIf",!1===r.lcZ(4,3,o.ps.pokemonListFirstLoading$))("ngIfElse",s)}},dependencies:[D.O5,F.xw,F.SQ,F.Wh,ot,ai,D.Ov],styles:[".p-title[_ngcontent-%COMP%]{font-family:quicksand;font-weight:500;font-size:1.5rem}.main-container[_ngcontent-%COMP%]{inset:60px 0}.main-sidenav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:200px;background:rgba(255,0,0,.5)}.fixed-display[_ngcontent-%COMP%]{border:1px solid #ccc}.page-data[_ngcontent-%COMP%]{font-size:13px;font-family:comfortaa;font-weight:700}.main[_ngcontent-%COMP%]{overflow:auto;min-height:100vh}"]}),e})();var Cn=y(2722);let On=(()=>{class e{constructor(n,o){this.store=n,this.httpService=o,this.pokemonSpecies$=this.store.select(So)}getSpecies(n){return this.httpService.get(n)}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(d.yh),r.LFG(Ot.O))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),di=(()=>{class e{constructor(n){this.pss=n,this.flavorText="",this.compDest$=new nt.x}ngOnInit(){this.pss.pokemonSpecies$.pipe((0,Cn.R)(this.compDest$),(0,A.U)(n=>n?.flavor_text_entries[0].flavor_text)).subscribe({next:n=>{this.flavorText=n}})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(On))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-main-all-pokemon-detail-flavor-text"]],decls:2,vars:1,consts:[[1,"flavor","poppins","white-section"]],template:function(n,o){1&n&&(r.TgZ(0,"div",0),r._uU(1),r.qZA()),2&n&&(r.xp6(1),r.hij(" ",o.flavorText,"\n"))},styles:[".detail[_ngcontent-%COMP%]{overflow:auto}.poke-title[_ngcontent-%COMP%]{font-size:30px}.white-section[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;border-radius:10px;background-color:#fff}.poke-profile[_ngcontent-%COMP%]{width:33%}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:2px solid #682A68;border-radius:10px;padding:8px}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:22px}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .poke-type[_ngcontent-%COMP%]{font-size:13px;font-style:italic}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .poke-pic[_ngcontent-%COMP%]{height:15rem;background-color:#fff;border-radius:25px;margin-bottom:12px}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .poke-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.poke-profile.mobile-width[_ngcontent-%COMP%]{width:100%}"]}),e})();var hi=y(655),pi=y(8603);class ue{transform(t){let n="#ccc";if(t)switch(t){case"normal":n="#A8A878";break;case"fighting":n="#C03028";break;case"flying":n="#A890F0";break;case"poison":n="#A040A0";break;case"ground":n="#E0C068";break;case"rock":n="#B8A038";break;case"bug":n="#A8B820";break;case"ghost":n="#705898";break;case"steel":n="#B8B8D0";break;case"fire":n="#F08030";break;case"water":n="#6890F0";break;case"grass":n="#78C850";break;case"electric":n="#F8D030";break;case"psychic":n="#F85888";break;case"ice":n="#98D8D8";break;case"dragon":n="#7038F8";break;case"dark":n="#705848";break;case"fairy":n="#EE99AC"}return n}}function fi(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div",16),r._uU(2),r.qZA(),r.BQk()),2&e){const n=t.$implicit,o=t.last;r.xp6(2),r.AsE(" ",n.type.name,"",o?"":","," ")}}ue.\u0275fac=function(t){return new(t||ue)},ue.\u0275pipe=r.Yjl({name:"pokemonTypeColorHex",type:ue,pure:!0}),(0,hi.gn)([(0,pi.Z)()],ue.prototype,"transform",null);const gi=function(e){return{"background-color":e}};function mi(e,t){if(1&e&&(r.ynx(0),r.TgZ(1,"div")(2,"h3",3),r._uU(3),r.qZA(),r.TgZ(4,"div",4)(5,"div",5),r.ALo(6,"pokemonTypeColorHex"),r.TgZ(7,"div",6)(8,"h5",7)(9,"div",8)(10,"div",9)(11,"div",10),r._uU(12),r.qZA(),r.TgZ(13,"div",11),r.YNc(14,fi,3,2,"ng-container",12),r.qZA()()(),r.TgZ(15,"div",13),r._uU(16),r.qZA()(),r.TgZ(17,"div",14),r._UZ(18,"img",15),r.qZA(),r._UZ(19,"app-main-all-pokemon-detail-flavor-text"),r.qZA()()(),r.TgZ(20,"p"),r._uU(21),r.qZA()(),r.BQk()),2&e){const n=t.ngIf;r.xp6(3),r.hij(" ",n.name," "),r.xp6(1),r.Q6J("ngClass.lt-md","mobile-width"),r.xp6(1),r.Q6J("ngStyle",r.VKq(10,gi,r.lcZ(6,8,null==n.types[0]||null==n.types[0].type?null:n.types[0].type.name))),r.xp6(7),r.hij(" ",n.name," "),r.xp6(2),r.Q6J("ngForOf",n.types),r.xp6(2),r.hij(" #",n.id," "),r.xp6(2),r.Q6J("src",n.sprites.other["official-artwork"].front_default,r.LSH),r.xp6(3),r.hij(" Pokemon ",n.name," ")}}function _i(e,t){1&e&&(r.TgZ(0,"div",17),r._UZ(1,"app-shared-loading"),r.qZA())}const yi=[{path:"",component:ks,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:ui,data:{pageTitle:"All Pokemon"}},{path:":pokemonName",component:(()=>{class e{constructor(n,o){this.ps=n,this.route=o,this.compId="pokemonDetails",this.pokemonDetail=void 0,this.compDest$=new nt.x,this.route.data.pipe((0,Cn.R)(this.compDest$),(0,A.U)(s=>s.pokemonDetail)).subscribe(s=>{this.pokemonDetail=s})}ngOnInit(){}ngAfterViewInit(){(0,lt.H5)("pokemon-detail-name",0,"center")}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(r.Y36(Q),r.Y36(de.gz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-main-all-pokemon-detail"]],decls:4,vars:1,consts:[[1,"detail"],[4,"ngIf"],["isLoading",""],["id","pokemon-detail-name",1,"poke-title"],[1,"float-left","poke-profile","mb-2","mr-2",3,"ngClass.lt-md"],[1,"card",3,"ngStyle"],[1,"card-body"],["fxLayout","row","fxLayoutAlign","space-between stretch","fxLayoutGap","10px",1,"card-title"],[1,"white-section","w-100","section-1"],["fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","5px"],[1,"font-weight-bold"],["fxLayout.gt-sm","row","fxLayoutAlign.gt-sm","start center","fxLayoutGap.gt-sm","5px"],[4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",1,"white-section","section-1","font-weight-bold"],[1,"poke-pic","text-center"],[3,"src"],[1,"poke-type","font-weight-normal"],[1,"my-5"]],template:function(n,o){1&n&&(r.TgZ(0,"div",0),r.YNc(1,mi,22,12,"ng-container",1),r.qZA(),r.YNc(2,_i,2,0,"ng-template",null,2,r.W1O)),2&n&&(r.xp6(1),r.Q6J("ngIf",o.pokemonDetail))},dependencies:[D.sg,D.O5,D.PC,F.xw,F.SQ,F.Wh,rt.oO,rt.Zl,ot,di,ue],styles:[".detail[_ngcontent-%COMP%]{overflow:auto}.poke-title[_ngcontent-%COMP%]{font-size:30px}.white-section[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;border-radius:10px;background-color:#fff}.poke-profile[_ngcontent-%COMP%]{width:33%}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:2px solid #682A68;border-radius:10px;padding:8px}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:22px}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .poke-type[_ngcontent-%COMP%]{font-size:13px;font-style:italic}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .poke-pic[_ngcontent-%COMP%]{height:15rem;background-color:#fff;border-radius:25px;margin-bottom:12px}.poke-profile[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .poke-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.poke-profile.mobile-width[_ngcontent-%COMP%]{width:100%}"]}),e})(),data:{pageTitle:"Detail"},resolve:{pokemonDetail:(()=>{class e{constructor(n){this.ps=n}resolve(){return this.ps.selectedPokemon$.pipe((0,Ee.h)(n=>!!n),(0,A.U)(n=>n))}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(Q))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]}];let ki=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[de.Bz.forChild(yi),de.Bz]}),e})();const Pi=[{display:"Refresh",id:"refresh",disabled:!1,icon:"refresh"}],Si=[(()=>{class e{constructor(n,o){this.actions$=n,this.ps=o}ngrxOnInitEffects(){return bt({actions:Pi})}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(x.eX),r.LFG(Q))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()];var Ti=y(4086),vi=y(6943),Mn=y(4847);const wi=[(()=>{class e{constructor(n,o,s){this.actions$=n,this.ps=o,this.rs=s,this.getPokemonShells$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(ye),(0,x.IC)(()=>this.ps.pagination$),(0,Ee.h)(i=>!(void 0===i[0].page&&!i[1].nextPageUrl)),(0,ie.w)(i=>{let a=i[1];const c=i[0];let l;return c.scrollPosition&&(c.scrollPosition===Y.Next?l=a.nextPageUrl:c.scrollPosition===Y.Prev&&(l=a.previousPageUrl)),this.ps.getPokemonShells(c.page??0,l).pipe((0,Ti.g)(0),(0,A.U)(_=>{const T=_.results.map(b=>{const R=b.url.split("/"),m=R[R.length-2];return{...b,pokemonId:m}}),v={..._,results:T};return Fe({payload:v,fetchedDate:(new Date).getTime()})}),(0,re.K)(_=>(0,se.of)(ut({errMsg:_}))))}))),this.dispatchGetFavoritePokemonShells$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Fe,mt),(0,A.U)(()=>ke()))),this.setPokemonShellAsFavorite$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(gt),(0,Pn.z)(i=>this.ps.setPokemonFavorite(i.pokemon).operationObs.then(c=>mt({payload:c,fetchedDate:(new Date).getTime()})).catch(c=>oo({errMsg:c}))))),this.getFavoritePokemonShells$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(ke),(0,ie.w)(i=>this.ps.getPokemonFavorites().pipe((0,A.U)(a=>Be({payload:a})),(0,re.K)(a=>(0,se.of)(_t({errMsg:a}))))))),this.getPokemonFromRouteParams$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(vi.tE),(0,x.IC)(()=>this.rs.routeParams$),(0,Ee.h)(i=>!!i[1].pokemonName),(0,A.U)(i=>i[1].pokemonName),(0,A.U)(i=>De({pokemonName:i}))))}ngrxOnInitEffects(){return ye({page:0})}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(x.eX),r.LFG(Q),r.LFG(Mn.c))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()],xi=(0,d.Lq)({apiLoading:!1,pokemonFetching:null,pokemon:void 0,error:!1,species:void 0},(0,d.on)(dt,e=>({...e,pokemon:void 0})),(0,d.on)(De,(e,{pokemonName:t})=>({...e,pokemonFetching:t,species:void 0,apiLoading:!0,pokemon:void 0})),(0,d.on)(Ne,(e,{payload:t})=>({...e,apiLoading:!1,pokemon:t,errMsg:void 0,error:!1})),(0,d.on)(ht,(e,{errMsg:t})=>({...e,apiLoading:!1,errMsg:t,error:!0})),(0,d.on)(ft,(e,{payload:t})=>({...e,species:t}))),Ci=[(()=>{class e{constructor(n,o,s,i){this.actions$=n,this.ps=o,this.rs=s,this.pss=i,this.getPokemon$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(De),(0,ie.w)(a=>this.ps.getPokemon(a.pokemonName).pipe((0,A.U)(l=>Ne({payload:l})),(0,re.K)(l=>(console.log(l),(0,se.of)(ht({errMsg:l.error+l.message})))))))),this.getPokemonSpeciesTrigger$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Ne),(0,A.U)(a=>pt({url:a.payload.species.url})))),this.getPokemonSpecies$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(pt),(0,ie.w)(a=>this.pss.getSpecies(a.url).pipe((0,A.U)(l=>ft({payload:l,fetchedDate:(new Date).getTime()}))))))}}return e.\u0275fac=function(n){return new(n||e)(r.LFG(x.eX),r.LFG(Q),r.LFG(Mn.c),r.LFG(On))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()];let Oi=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),Mi=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[d.Aw.forFeature(Pt,St),d.Aw.forFeature(kt,yt),x.sQ.forFeature(wi),d.Aw.forFeature(wt,xt),x.sQ.forFeature(Si),d.Aw.forFeature(Ct,xi),x.sQ.forFeature(Ci),Ln.n,En,Un.d,Qs,Oi,ki]}),e})()}}]);