"use strict";(self.webpackChunkpokemondb=self.webpackChunkpokemondb||[]).push([[808],{6808:(an,J,y)=>{y.r(J),y.d(J,{MainModule:()=>rn});var k=y(493),p=y(9653),D=y(6895),vt=y(9814),Mt=y(7061),e=y(4650);let Tt=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[D.ez,vt.o9,Mt.p]}),t})();var kt=y(851),At=y(6580),B=y(7337);let Ct=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-main"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[B.lC]}),t})();const X="allPokemonShells";var L=(()=>{return(t=L||(L={})).Next="NEXT",t.Prev="PREV",L;var t})(),Et=y(529),f=(()=>{return(t=f||(f={}))[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",f;var t})();function O(t){return function(o,i){const l={ids:[...i.ids],entities:{...i.entities}},r=t(o,l);return r===f.Both?Object.assign({},i,l):r===f.EntitiesOnly?{...i,entities:l.entities}:i}}function w(t,n){const o=n(t);return(0,e.X6Q)()&&void 0===o&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",n.toString()),o}function V(t){function n(m,a){const c=w(m,t);return c in a.entities?f.None:(a.ids.push(c),a.entities[c]=m,f.Both)}function o(m,a){let c=!1;for(const s of m)c=n(s,a)!==f.None||c;return c?f.Both:f.None}function l(m,a){const c=w(m,t);return c in a.entities?(a.entities[c]=m,f.EntitiesOnly):(a.ids.push(c),a.entities[c]=m,f.Both)}function h(m,a){const s=(m instanceof Array?m:a.ids.filter(u=>m(a.entities[u]))).filter(u=>u in a.entities).map(u=>delete a.entities[u]).length>0;return s&&(a.ids=a.ids.filter(u=>u in a.entities)),s?f.Both:f.None}function T(m,a){return A([m],a)}function A(m,a){const c={};return(m=m.filter(u=>u.id in a.entities)).length>0?m.filter(g=>function v(m,a,c){const u=Object.assign({},c.entities[a.id],a.changes),g=w(u,t),S=g!==a.id;return S&&(m[a.id]=g,delete c.entities[a.id]),c.entities[g]=u,S}(c,g,a)).length>0?(a.ids=a.ids.map(g=>c[g]||g),f.Both):f.EntitiesOnly:f.None}function $(m,a){const c=[],s=[];for(const S of m){const M=w(S,t);M in a.entities?s.push({id:M,changes:S}):c.push(S)}const u=A(s,a),g=o(c,a);switch(!0){case g===f.None&&u===f.None:return f.None;case g===f.Both||u===f.Both:return f.Both;default:return f.EntitiesOnly}}return{removeAll:function P(m){return Object.assign({},m,{ids:[],entities:{}})},addOne:O(n),addMany:O(o),setAll:O(function i(m,a){return a.ids=[],a.entities={},o(m,a),f.Both}),setOne:O(l),setMany:O(function r(m,a){const c=m.map(s=>l(s,a));switch(!0){case c.some(s=>s===f.Both):return f.Both;case c.some(s=>s===f.EntitiesOnly):return f.EntitiesOnly;default:return f.None}}),updateOne:O(T),updateMany:O(A),upsertOne:O(function C(m,a){return $([m],a)}),upsertMany:O($),removeOne:O(function d(m,a){return h([m],a)}),removeMany:O(h),map:O(function x(m,a){return A(a.ids.reduce((u,g)=>{const S=m(a.entities[g]);return S!==a.entities[g]&&u.push({id:g,changes:S}),u},[]).filter(({id:u})=>u in a.entities),a)}),mapOne:O(function U({map:m,id:a},c){const s=c.entities[a];return s?T({id:a,changes:m(s)},c):f.None})}}function It(t,n){const{removeOne:o,removeMany:i,removeAll:l}=V(t);function r(c,s){return d([c],s)}function d(c,s){const u=c.filter(g=>!(w(g,t)in s.entities));return 0===u.length?f.None:(a(u,s),f.Both)}function P(c,s){const u=w(c,t);return u in s.entities?(s.ids=s.ids.filter(g=>g!==u),a([c],s),f.Both):r(c,s)}function T(c,s){return x([c],s)}function x(c,s){const u=[],g=c.filter(S=>function A(c,s,u){if(!(s.id in u.entities))return!1;const S=Object.assign({},u.entities[s.id],s.changes),M=w(S,t);return delete u.entities[s.id],c.push(S),M!==s.id}(u,S,s)).length>0;if(0===u.length)return f.None;{const S=s.ids,M=[];return s.ids=s.ids.filter((E,N)=>E in s.entities||(M.push(N),!1)),a(u,s),!g&&M.every(E=>s.ids[E]===S[E])?f.EntitiesOnly:f.Both}}function m(c,s){const u=[],g=[];for(const E of c){const N=w(E,t);N in s.entities?g.push({id:N,changes:E}):u.push(E)}const S=x(g,s),M=d(u,s);switch(!0){case M===f.None&&S===f.None:return f.None;case M===f.Both||S===f.Both:return f.Both;default:return f.EntitiesOnly}}function a(c,s){c.sort(n);const u=[];let g=0,S=0;for(;g<c.length&&S<s.ids.length;){const M=c[g],E=w(M,t),N=s.ids[S];n(M,s.entities[N])<=0?(u.push(E),g++):(u.push(N),S++)}s.ids=u.concat(g<c.length?c.slice(g).map(t):s.ids.slice(S)),c.forEach((M,E)=>{s.entities[t(M)]=M})}return{removeOne:o,removeMany:i,removeAll:l,addOne:O(r),updateOne:O(T),upsertOne:O(function $(c,s){return m([c],s)}),setAll:O(function h(c,s){return s.entities={},s.ids=[],d(c,s),f.Both}),setOne:O(P),setMany:O(function v(c,s){const u=c.map(g=>P(g,s));switch(!0){case u.some(g=>g===f.Both):return f.Both;case u.some(g=>g===f.EntitiesOnly):return f.EntitiesOnly;default:return f.None}}),addMany:O(d),updateMany:O(x),upsertMany:O(m),map:O(function U(c,s){return x(s.ids.reduce((g,S)=>{const M=c(s.entities[S]);return M!==s.entities[S]&&g.push({id:S,changes:M}),g},[]),s)}),mapOne:O(function C({map:c,id:s},u){const g=u.entities[s];return g?T({id:s,changes:c(g)},u):f.None})}}function q(t={}){const{selectId:n,sortComparer:o}={selectId:t.selectId??(d=>d.id),sortComparer:t.sortComparer??!1},i=function Lt(){return{getInitialState:function t(n={}){return Object.assign({ids:[],entities:{}},n)}}}(),l=function _t(){return{getSelectors:function t(n){const o=d=>d.ids,i=d=>d.entities,l=(0,p.P1)(o,i,(d,h)=>d.map(P=>h[P])),r=(0,p.P1)(o,d=>d.length);return n?{selectIds:(0,p.P1)(n,o),selectEntities:(0,p.P1)(n,i),selectAll:(0,p.P1)(n,l),selectTotal:(0,p.P1)(n,r)}:{selectIds:o,selectEntities:i,selectAll:l,selectTotal:r}}}}();return{selectId:n,sortComparer:o,...i,...l,...o?It(n,o):V(n)}}const H=(0,p.PH)("[Pokemon All/API] Get all pokemon start",(0,p.Ky)()),tt=(0,p.PH)("[Pokemon All/API] Get all pokemon successful",(0,p.Ky)()),Kt=(0,p.PH)("[Pokemon All/API] Get all pokemon failure",(0,p.Ky)()),Y=(0,p.PH)("[Pokemon/API] Get a pokemon start",(0,p.Ky)()),et=(0,p.PH)("[Pokemon/API] Get a pokemon successful",(0,p.Ky)()),nt=(0,p.PH)("[Pokemon/API] Get a pokemon failure",(0,p.Ky)()),F=q({selectId:function Ht(t){return t.name}}),Rt=F.getInitialState({apiWorking:!1,firstTimeLoading:!0,errMsg:void 0,error:!1,lastFetchedDate:void 0,pagination:{limit:20,firstOffset:0}}),ot=(0,p.Lq)(Rt,(0,p.on)(H,(t,{page:n})=>({...t,apiWorking:!0,pagination:{...t.pagination,pageRequested:n}})),(0,p.on)(tt,(t,{payload:n,fetchedDate:o})=>{const i=n.results,l=((t,n)=>{const o=n.count,i=n.next,l=n.previous,r=Math.floor(o/20);let d=0,h=t.nextOffset??0;i?(h=+(new URL(i).searchParams.get("offset")??0),d=(h-(t.limit??20))/(t.limit??20)):d=r;let P=t.prevOffset??0;return l&&(P=+(new URL(l).searchParams.get("offset")??0)),{pageRequested:t.pageRequested,limit:t.limit,currentPage:d,nextOffset:h,prevOffset:P,firstOffset:0,lastOffset:20*r-20,pages:r,totalCount:o,nextPageUrl:i,previousPageUrl:l}})(t.pagination,n);return F.addMany(i,{...t,apiWorking:!1,firstTimeLoading:!1,error:!1,errMsg:void 0,pagination:l,lastFetchedDate:o})}),(0,p.on)(Kt,(t,{errMsg:n})=>({...t,apiWorking:!1,errMsg:n,error:!0}))),_=(0,p.ZF)(X),Wt=((0,p.P1)(_,F.getSelectors().selectIds),(0,p.P1)(_,F.getSelectors().selectEntities),(0,p.P1)(_,F.getSelectors().selectAll)),Gt=((0,p.P1)(_,F.getSelectors().selectTotal),(0,p.P1)(_,t=>t.firstTimeLoading)),$t=(0,p.P1)(_,t=>t.apiWorking),it=(0,p.P1)(_,t=>t.pagination),st="allPokemonActionBar",lt=(0,p.PH)("[Pokemon All Actions/UI] Set action bar items",(0,p.Ky)());(0,p.PH)("[Pokemon All Actions/UI] Edit action property",(0,p.Ky)());const b=q({selectId:function jt(t){return t.id}}),Qt=b.getInitialState({apiWorking:!1}),rt=(0,p.Lq)(Qt,(0,p.on)(lt,(t,{actions:n})=>b.setAll(n,{...t}))),R=(0,p.ZF)(st),Jt=((0,p.P1)(R,b.getSelectors().selectIds),(0,p.P1)(R,b.getSelectors().selectEntities),(0,p.P1)(R,b.getSelectors().selectAll));(0,p.P1)(R,b.getSelectors().selectTotal);var Xt=y(4691);const ct="https://pokeapi.co/api/v2/pokemon";let W=(()=>{class t{constructor(o,i){this.httpService=o,this.store=i,this.pagination$=this.store.select(it),this.actionBarActions$=this.store.select(Jt),this.pokemonList$=this.store.select(Wt),this.pokemonListLoading$=this.store.select($t),this.pokemonListFirstLoading$=this.store.select(Gt),this.allPaginationData$=this.store.select(it)}getPokemonShells(o,i){let l=new Et.LE,r=ct;return i?r=i:(l=l.set("offset",20*(o??0)),l=l.set("limit",20)),this.httpService.get(r,l)}getPokemon(o){return this.httpService.get(`${ct}/${o}`)}fetchPokemonShells(o,i){this.store.dispatch(H({page:o,scrollPosition:i}))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(Xt.O),e.LFG(p.yh))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=y(1576),at=y(4859),Vt=y(7392);function qt(t,n){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"button",3),e.NdJ("click",function(){const r=e.CHM(o).$implicit,d=e.oxw();return e.KtG(d.onActionClick(r))}),e.TgZ(2,"mat-icon"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.BQk()}if(2&t){const o=n.$implicit;e.xp6(3),e.hij("",o.icon," "),e.xp6(2),e.Oqu(o.display)}}const te=["*"];let ee=(()=>{class t{constructor(){this.actions=[]}ngOnInit(){}onActionClick(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["shared-action-bar"]],inputs:{actions:"actions"},ngContentSelectors:te,decls:5,vars:1,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,""],[1,""],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"]],template:function(o,i){1&o&&(e.F$t(),e.TgZ(0,"section",0)(1,"div",1),e.YNc(2,qt,6,2,"ng-container",2),e.qZA(),e.TgZ(3,"div"),e.Hsn(4),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngForOf",i.actions))},dependencies:[D.sg,at.lW,Vt.Hw,I.xw,I.Wh],styles:["button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();var ne=y(7579);let oe=(()=>{class t{constructor(){this.wholePage=!1,this.loading=!0,this.logoShakeState=!1,this.compDest$=new ne.x}ngOnChanges(o){this.parentClass=this.wholePage?"whole-page loading-container":"container loading-container mt-5"}ngOnInit(){}ngOnDestroy(){this.compDest$.next(null),this.compDest$.complete()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-shared-loading"]],inputs:{wholePage:"wholePage",message:"message"},features:[e.TTD],decls:12,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"w-100"],[1,""],[1,"loading-logo"],["src","assets/img/poke-logo.png","alt","logo",1,"logo-img","d-inline-block"],[1,"loading-parent"],[1,"lds-facebook"],[1,"secfont"]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),e._UZ(4,"img",3),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"div")(8,"div")(9,"div"),e.qZA()(),e.TgZ(10,"div",6),e._uU(11),e.qZA()()()),2&o&&(e.Tol(i.parentClass),e.xp6(11),e.hij(" Loading ",i.message," ... "))},dependencies:[I.xw,I.Wh],styles:[".loading-logo[_ngcontent-%COMP%]{height:3rem}.loading-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.loading-parent[_ngcontent-%COMP%]{justify-content:center;align-items:center}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.whole-page[_ngcontent-%COMP%]{position:fixed;width:100%}.lds-facebook[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;position:absolute;left:8px;width:16px;background:#007bff;animation:lds-facebook 1.2s cubic-bezier(0,.5,.5,1) infinite}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){left:8px;animation-delay:-.24s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:32px;animation-delay:-.12s}.lds-facebook[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:56px;animation-delay:0}@keyframes lds-facebook{0%{top:8px;height:64px}50%,to{top:24px;height:32px}}"]}),t})();var ie=y(3238),ut=y(6338),ft=y(9646),se=y(4968),le=y(5577),Z=y(4004),dt=y(8505),z=y(9300),re=y(4986),ce=y(4482),pt=y(5403),ae=y(8421);const gt={leading:!0,trailing:!1};var fe=y(2805);function pe(t,n,o,i){const l=window&&!!window.document&&window.document.documentElement;let r=l&&n?window:o;if(t&&(r=t&&l&&"string"==typeof t?function ge(t,n,o){return(o?window.document:n).querySelector(t)}(t,o.nativeElement,i):t,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function j(t){return t&&!t.firstChange}const he={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},ye={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class Pe{constructor(n=!0){this.vertical=n,this.propsMap=n?he:ye}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function Me(t){return["Window","global"].some(o=>Object.prototype.toString.call(t).includes(o))}function Q(t,n){return t?n.document.documentElement:null}function mt(t,n){const o=function Ae({container:t,isWindow:n,axis:o}){const{offsetHeightKey:i,clientHeightKey:l}=ht(o);return yt(t,n,i,l)}(n);return n.isWindow?function Te(t,n,o){const{axis:i,container:l,isWindow:r}=o,{offsetHeightKey:d,clientHeightKey:h}=ht(i),P=t+Pt(Q(r,l),i,r),v=yt(n.nativeElement,r,d,h),T=function Ce(t,n,o){const i=n.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+Pt(t,n,o)}(n.nativeElement,i,r)+v;return{height:t,scrolled:P,totalToScroll:T,isWindow:r}}(o,t,n):function ke(t,n,o){const{axis:i,container:l}=o;return{height:t,scrolled:l[i.scrollTopKey()],totalToScroll:l[i.scrollHeightKey()],isWindow:!1}}(o,0,n)}function ht(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function yt(t,n,o,i){if(isNaN(t[o])){const l=Q(n,t);return l?l[i]:0}return t[o]}function Pt(t,n,o){const i=n.pageYOffsetKey(),l=n.scrollTopKey(),r=n.offsetTopKey();return isNaN(window.pageYOffset)?Q(o,t)[l]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[r]}function Ee(t,n={down:0,up:0},o){let i,l;if(t.totalToScroll<=0)return!1;const r=t.isWindow?t.scrolled:t.height+t.scrolled;return o?(i=(t.totalToScroll-r)/t.totalToScroll,l=(n?.down?n.down:0)/10):(i=t.scrolled/(t.scrolled+(t.totalToScroll-r)),l=(n?.up?n.up:0)/10),i<=l}class Ie{constructor({totalToScroll:n}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}updateScrollPosition(n){return this.lastScrollPosition=n}updateTotalToScroll(n){this.lastTotalToScroll!==n&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=n)}updateScroll(n,o){this.updateScrollPosition(n),this.updateTotalToScroll(o)}updateTriggeredFlag(n,o){o?this.triggered.down=n:this.triggered.up=n}isTriggeredScroll(n,o){return o?this.triggered.down===n:this.triggered.up===n}}function Ne(t){const{scrollContainer:n,scrollWindow:o,element:i,fromRoot:l}=t,r=function Oe({windowElement:t,axis:n}){return function ve(t,n){const o=t.isWindow||n&&!n.nativeElement?n:n.nativeElement;return{...t,container:o}}({axis:n,isWindow:Me(t)},t)}({axis:new Pe(!t.horizontal),windowElement:pe(n,o,i,l)}),d=new Ie({totalToScroll:mt(i,r)}),P={up:t.upDistance,down:t.downDistance};return function De(t){let n=(0,se.R)(t.container,"scroll");return t.throttle&&(n=n.pipe(function de(t,n=re.z,o=gt){const i=(0,fe.H)(t,n);return function ue(t,n=gt){return(0,ce.e)((o,i)=>{const{leading:l,trailing:r}=n;let d=!1,h=null,P=null,v=!1;const T=()=>{P?.unsubscribe(),P=null,r&&(U(),v&&i.complete())},A=()=>{P=null,v&&i.complete()},x=C=>P=(0,ae.Xf)(t(C)).subscribe((0,pt.x)(i,T,A)),U=()=>{if(d){d=!1;const C=h;h=null,i.next(C),!v&&x(C)}};o.subscribe((0,pt.x)(i,C=>{d=!0,h=C,(!P||P.closed)&&(l?U():x(C))},()=>{v=!0,(!(r&&d&&P)||P.closed)&&i.complete()}))})}(()=>i,o)}(t.throttle,void 0,{leading:!0,trailing:!0}))),n}({container:r.container,throttle:t.throttle}).pipe((0,le.z)(()=>(0,ft.of)(mt(i,r))),(0,Z.U)(v=>function Fe(t,n,o){const{scrollDown:i,fire:l}=function we(t,n,o){const i=function xe(t,n){return t<n.scrolled}(t,n);return{fire:Ee(n,o,i),scrollDown:i}}(t,n,o);return{scrollDown:i,fire:l,stats:n}}(d.lastScrollPosition,v,P)),(0,dt.b)(({stats:v})=>d.updateScroll(v.scrolled,v.totalToScroll)),(0,z.h)(({fire:v,scrollDown:T,stats:{totalToScroll:A}})=>function Se(t,n,o){return!!(t&&n||!o&&n)}(t.alwaysCallback,v,d.isTriggeredScroll(A,T))),(0,dt.b)(({scrollDown:v,stats:{totalToScroll:T}})=>{d.updateTriggeredFlag(T,v)}),(0,Z.U)(be))}function be(t){const{scrollDown:n,stats:{scrolled:o}}=t;return{type:n?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:o}}}let Ze=(()=>{class t{constructor(o,i){this.element=o,this.zone=i,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:i,infiniteScrollDistance:l}){const r=j(o),d=j(i),h=j(l),P=!d&&!this.infiniteScrollDisabled||d&&!i.currentValue||h;(r||d||h)&&(this.destroyScroller(),P&&this.setup())}setup(){(function me(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Ne({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.zone.run(()=>this.handleOnScroll(o)))})}handleOnScroll({type:o,payload:i}){switch(o){case"[NGX_ISE] DOWN":return this.scrolled.emit(i);case"[NGX_ISE] UP":return this.scrolledUp.emit(i);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.SBq),e.Y36(e.R0b))},t.\u0275dir=e.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),t})(),Ue=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({}),t})();const Ke=function(t){return["../",t]};function Be(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"a",5)(2,"mat-list-item")(3,"div",6),e._UZ(4,"img",7),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.BQk()),2&t){const o=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Ke,o.name)),e.xp6(3),e.Q6J("src","assets/img/pokeball.png",e.LSH),e.xp6(2),e.hij(" ",o.name," ")}}function He(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-nav-list",3),e.YNc(2,Be,7,5,"ng-container",4),e.qZA(),e.BQk()),2&t){const o=e.oxw();e.xp6(2),e.Q6J("ngForOf",o.list)}}function Re(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1," No Pokemons found. "),e.qZA())}let We=(()=>{class t{constructor(){this.scrollLoad=new e.vpe}ngOnInit(){}showInfo(o){}onScrollDown(){this.scrollLoad.emit(L.Next)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-main-all-pokemon-list"]],inputs:{list:"list"},outputs:{scrollLoad:"scrollLoad"},decls:4,vars:6,consts:[["infiniteScroll","",1,"poke-list",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],[4,"ngIf","ngIfElse"],["noItems",""],["dense",""],[4,"ngFor","ngForOf"],["matLine","",3,"routerLink"],[1,"logo","mr-2"],[3,"src"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0),e.NdJ("scrolled",function(){return i.onScrollDown()}),e.YNc(1,He,3,1,"ng-container",1),e.qZA(),e.YNc(2,Re,2,0,"ng-template",null,2,e.W1O)),2&o){const l=e.MAs(3);e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("infiniteScrollContainer",".content-parent")("fromRoot",!0),e.xp6(1),e.Q6J("ngIf",i.list&&i.list.length>0)("ngIfElse",l)}},dependencies:[D.sg,D.O5,ie.X2,ut.Hk,ut.Tg,Ze,B.yS],styles:["[_nghost-%COMP%]{width:100%}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:30px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;height:100%}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15px}.poke-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]:hover{background-color:transparent;font-weight:700}.poke-list[_ngcontent-%COMP%]   .mat-list-single-selected-option[_ngcontent-%COMP%]{background-color:#e4e6f9;font-weight:500}"],changeDetection:0}),t})();function Ge(t,n){if(1&t&&(e.ynx(0),e.TgZ(1,"div",9)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5," | "),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.BQk()),2&t){const o=n.ngIf;e.xp6(3),e.AsE(" page ",o.currentPage," / ",o.pages," "),e.xp6(4),e.hij(" total: ",o.totalCount," ")}}function $e(t,n){if(1&t&&(e.ynx(0),e.YNc(1,Ge,8,3,"ng-container",8),e.ALo(2,"async"),e.BQk()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,o.ps.allPaginationData$))}}function Ye(t,n){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",10)(2,"app-main-all-pokemon-list",11),e.NdJ("scrollLoad",function(l){e.CHM(o);const r=e.oxw();return e.KtG(r.onScroll(l))}),e.ALo(3,"async"),e.qZA()(),e.BQk()}if(2&t){const o=e.oxw();e.xp6(2),e.Q6J("list",e.lcZ(3,1,o.ps.pokemonList$))}}function ze(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(o);const l=e.oxw();return e.KtG(l.togglePageData())}),e._uU(1,"Show pagination data"),e.qZA()}}function je(t,n){1&t&&(e.TgZ(0,"div",13),e._UZ(1,"app-shared-loading"),e.qZA())}const Qe=[{path:"",component:Ct,children:[{path:"",redirectTo:"species",pathMatch:"full"},{path:"species",component:(()=>{class t{constructor(o){this.ps=o,this.title="All Pokemons",this.scrollPosition=L,this.actionBtns=[],this.showPageData=!1}ngOnInit(){}navPage(o){this.ps.fetchPokemonShells(void 0,o)}onScroll(o){this.navPage(L.Next)}togglePageData(){this.showPageData=!this.showPageData}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-main-all"]],decls:20,vars:13,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","15px"],[1,"sticky-top","dashboard"],[3,"actions"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px",1,"page-data"],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"w-100","p-title"],["showBtn",""],["firstTimeLoadMask",""],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px"],["fxLayout","row","fxLayoutAlign","start start",1,"w-100"],[3,"list","scrollLoad"],["mat-button","","color","primary",3,"click"],[1,"my-5"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"shared-action-bar",2),e.ALo(3,"async"),e.TgZ(4,"div",3)(5,"div"),e._uU(6),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"div"),e._uU(9," | "),e.qZA(),e.TgZ(10,"div"),e.YNc(11,$e,3,3,"ng-container",4),e.qZA()()()(),e.TgZ(12,"div",5),e._uU(13),e.qZA(),e.YNc(14,Ye,4,3,"ng-container",4),e.ALo(15,"async"),e.qZA(),e.YNc(16,ze,2,0,"ng-template",null,6,e.W1O),e.YNc(18,je,2,0,"ng-template",null,7,e.W1O)),2&o){const l=e.MAs(17),r=e.MAs(19);e.xp6(2),e.Q6J("actions",e.lcZ(3,7,i.ps.actionBarActions$)),e.xp6(4),e.hij(" ",e.lcZ(7,9,i.ps.pokemonListLoading$)?"Loading...":""," "),e.xp6(5),e.Q6J("ngIf",i.showPageData)("ngIfElse",l),e.xp6(2),e.hij(" ",i.title," "),e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(15,11,i.ps.pokemonListFirstLoading$))("ngIfElse",r)}},dependencies:[D.O5,I.xw,I.SQ,I.Wh,at.lW,ee,oe,We,D.Ov],styles:[".p-title[_ngcontent-%COMP%]{font-family:quicksand;font-weight:500;font-size:1.5rem}.sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee;width:100%}.main-container[_ngcontent-%COMP%]{inset:60px 0}.main-sidenav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:200px;background:rgba(255,0,0,.5)}.fixed-display[_ngcontent-%COMP%]{border:1px solid #ccc}.page-data[_ngcontent-%COMP%]{font-size:13px;font-family:comfortaa;font-weight:700}"]}),t})(),data:{pageTitle:"Pokemon By Species"}},{path:":pokemonName",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-main-all-pokemon-detail"]],decls:2,vars:0,template:function(o,i){1&o&&(e.TgZ(0,"div"),e._uU(1," Detail!\n"),e.qZA())}}),t})(),data:{pageTitle:"Detail"}}]}];let Je=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[B.Bz.forChild(Qe),B.Bz]}),t})();const Xe=[{display:"Refresh",id:"refresh",disabled:!1,icon:"refresh"}],Ve=[(()=>{class t{constructor(o,i){this.actions$=o,this.ps=i}ngrxOnInitEffects(){return lt({actions:Xe})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(k.eX),e.LFG(W))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()];var St=y(3900),qe=y(6943),Ot=y(4847);const tn=[(()=>{class t{constructor(o,i,l){this.actions$=o,this.ps=i,this.rs=l,this.getPokemonShells$=(0,k.GW)(()=>this.actions$.pipe((0,k.l4)(H),(0,k.IC)(()=>this.ps.pagination$),(0,z.h)(r=>!(void 0===r[0].page&&!r[1].nextPageUrl)),(0,St.w)(r=>{let d=r[1];const h=r[0];let P;return h.scrollPosition&&(h.scrollPosition===L.Next?P=d.nextPageUrl:h.scrollPosition===L.Prev&&(P=d.previousPageUrl)),this.ps.getPokemonShells(h.page??0,P).pipe((0,Z.U)(T=>tt({payload:T,fetchedDate:(new Date).getTime()})))}))),this.getPokemonFromRouteParams$=(0,k.GW)(()=>this.actions$.pipe((0,k.l4)(qe.tE),(0,k.IC)(()=>this.rs.routeParams$),(0,z.h)(r=>!!r[1].pokemonName),(0,Z.U)(r=>r[1].pokemonName),(0,Z.U)(r=>Y({pokemonName:r}))))}ngrxOnInitEffects(){return H({page:0})}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(k.eX),e.LFG(W),e.LFG(Ot.c))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()],on=(0,p.Lq)({apiLoading:!1,pokemonFetching:null,error:!1},(0,p.on)(Y,(t,{pokemonName:n})=>({...t,pokemonFetching:n,apiLoading:!0})),(0,p.on)(et,(t,{payload:n})=>({...t,apiLoading:!1,pokemon:n,errMsg:void 0,error:!1})),(0,p.on)(nt,(t,{errMsg:n})=>({...t,apiLoading:!1,errMsg:n,error:!0})));var sn=y(262);const ln=[(()=>{class t{constructor(o,i,l){this.actions$=o,this.ps=i,this.rs=l,this.getPokemon$=(0,k.GW)(()=>this.actions$.pipe((0,k.l4)(Y),(0,St.w)(r=>this.ps.getPokemon(r.pokemonName).pipe((0,Z.U)(h=>et({payload:h})),(0,sn.K)(h=>(console.log(h),(0,ft.of)(nt({errMsg:h.error+h.message}))))))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(k.eX),e.LFG(W),e.LFG(Ot.c))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})()];let rn=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Aw.forFeature(X,ot),k.sQ.forFeature(tn),p.Aw.forFeature(st,rt),k.sQ.forFeature(Ve),p.Aw.forFeature("pokemonDetail",on),k.sQ.forFeature(ln),At.n,Tt,kt.d,Ue,Je]}),t})()}}]);